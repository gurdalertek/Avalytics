{"version":3,"sources":["services/tokenService.ts","components/styles/color_palette.ts","components/genericComponents/Title.tsx","components/Tokens.tsx","utils/generalUtil.ts","components/charts/candlestick/CrossHairs.js","components/charts/utils/mouseUtils.ts","components/charts/BasicChart.tsx","components/charts/utils/plotUtils.ts","components/charts/candlestick/Candle.js","components/charts/candlestick/Chart.js","components/charts/candlestick/CandleStickTemplate.js","components/genericComponents/AvadaSpinner.tsx","components/genericComponents/MultipleSelection.tsx","components/TokenView.tsx","utils/dateUtils.ts","services/dashboardService.ts","components/genericComponents/ExportIcon.tsx","components/genericComponents/List.tsx","components/dashboard/Gainers.tsx","components/dashboard/Losers.tsx","components/charts/pieChart/PieChart.tsx","components/dashboard/MarketCap.tsx","components/charts/miniChart/MiniChart.tsx","components/charts/miniChart/MiniChartContainer.tsx","components/dashboard/Dashboard.tsx","components/sidebar/NavItem.tsx","images/tokens.png","images/coins.png","images/pools.png","images/charts.png","images/whales.png","images/mempools.png","images/bridges.png","images/logo_2.png","components/sidebar/Sidebar.tsx","components/charts/heatmap/HeatMap.js","components/charts/barRaceChart/BarRaceChart.tsx","components/MultipleTokens.tsx","components/charts/steamChart/SteamGraph.js","services/dexService.ts","components/PoolView.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["getTokenList","a","TOKEN","Moralis","Object","extend","query","Query","select","find","results","tokenList","map","r","name","get","address","symbol","logoUrl","getTokenByAddress","equalTo","tokenInfo","getTokenPriceFromDB","TokenPrice","descending","limit","result","price","toFixed","marketCap","getTokenPriceHistoryDB","interval","since","upTo","console","log","priceKey","fetchFromAverage","greaterThan","lessThan","ascending","tokenPrices","obj","timestamp","exchange","assign","pctChange","fetchTokensForHeatMap","intervalStep","filterTokens","tokens","length","filter","t","includes","tokenPricesForHeat","Promise","all","prices","freshRecord","reverse","p","push","ColorPalette","Title","props","useState","popupActivated","setPopupActivated","popupCoords","setPopupCoords","style","margin","fontSize","title","hasInfo","onMouseEnter","e","target","getBoundingClientRect","rect","x","y","onMouseLeave","padding","icon","faInfoCircle","float","color","position","left","top","backgroundColor","opacity","zIndex","borderColor","borderWidth","borderRadius","width","height","TokenList","navigate","useNavigate","selected","setSelected","renderTokenPrice","token","renderMarketCap","variant","faSort","onClick","sort","idx","cursor","handleHover","src","Tokens","setTokenList","isAscending","setIsAscending","useEffect","then","filteredTokens","fetchTokenProps","updatedTokens","index","findIndex","prop","arr","b","parseFloat","CrossHairs","chart_dims","x1","y1","x2","pixel_width","y2","className","classNames","cross_hair","horz","pixel_height","vert","dollarAt","pixel","dollar","Math","abs","dollar_delta","dollar_low","BasicChart","data","dates","undefined","mouseCoords","setMouseCoords","round","reduce","min","dollar_high","ceil","max","svgRef","useRef","updateChart","transition","duration","line","svg","d3","current","attr","xScale","domain","Date","range","yMin","yMax","yScale","xAxis","ticks","selectAll","call","yAxis","xAxisGrid","axisBottom","tickSize","tickFormat","yAxisGrid","axisLeft","updateGrid","lineGenerator","d","i","curve","datum","setupLinearGraph","xTicks","yTicks","xLabel","yLabel","append","text","addAxis","addGrid","options","strokeColor","setupData","onMouseMove","nativeEvent","currentTarget","onMouseMoveInside","marginLeft","ref","fill","stroke","strokeWidth","Candle","candle_width","pixelFor","up","close","open","bar_top","bar_bottom","bar_height","wick_top","high","wick_bottom","low","candle","down","wick","bottom","Chart","chart_width","chart_height","bar","floor","drawGraph","highs","lows","offsetX","offsetY","candle_x","CandleStickTemplate","buildCandles","mergedPrices","time","setData","NFTicketSpinner","justifyItems","SpinnerCircularSplit","size","spinnerSize","message","MultipleSelection","direction","buttons","id","selectionHandler","value","buttonColor","textAlign","label","CHART_TYPES_ENUM","dateFromTimeStamp","date","month","parseInt","getMonth","toString","getDate","getFullYear","getTopGainers","currentDate","getTime","greaterThanOrEqualTo","gainers","slice","getTopLosers","getTopMCap","top5","get24HourPercentageChange","ExportIcon","justifyContent","faFileDownload","INTERVALS","LINE","CANDLESTICK","TokenView","intervalUnit","setIntervalUnit","radioOptions","setRadioOptions","getIntervalStep","setTokenInfo","setTokenPrices","setDates","chartType","setChartType","setSourceExchange","isLoading","setIsLoading","setNoDataAvailable","useParams","setIntervalStep","now","initialOffset","setInitialOffset","endOffset","setEndOffset","startDate","setStartDate","endDate","setEndDate","setPctChange","pct","h","sources","onChangeInterval","onChangeDate","fetchLineChartData","alignItems","fontWeight","AvadaSpinner","marginTop","xDomain","spacing","onChange","ro","borderStyle","onChangeEnd","defaultValue","step","minStepsBetweenThumbs","bg","boxSize","EntityList","tableStyle","noHead","entityProps","ep","entityList","entity","imageProp","postProcess","List","setEntityList","getter","entities","Gainers","Losers","PieChart","buildPieChart2","radius","node","arc","outerRadius","innerRadius","pie","percentage","feMerge","enter","on","this","midAngle","endAngle","startAngle","sin","cos","html","remove","tooltip","MarketCap","pieChartData","setPieChartData","allTokens","percentages","totalMCap","MiniChart","MiniChartContainer","setBorderColor","plotColor","setPlotColor","getPercentage","border","marginRight","Dashboard","NavItem","navSize","route","active","setActiveMenu","status","mt","flexDir","w","placement","as","ReactLink","to","_hover","ml","display","Menus","charts","coins","pools","whales","mempools","bridges","Sidebar","setNavSize","activeMenu","paddingTop","paddingRight","logo_2","m","mb","align","HeatMap","tokensList","setSvg","s","buildHeatMap","myGroups","Array","from","Set","myVars","pctgColor","interpolator","join","bandwidth","event","clientX","clientY","BarRaceChart","frameBorder","scrolling","sandbox","MultipleTokens","sliderStep","activeTokens","setActiveTokens","fetchPctChanges","tp","tl","checkActiveTokens","defaultChecked","checked","idxToRemove","indexOf","splice","handleCheckBoxChange","handleSelectAll","SteamGraph","buildChart","chartData","keys","tickValues","reserve0","stackedData","offset","Tooltip","area","y0","key","__data__","grp","getPoolList","POOL","poolList","token0","token1","pairAddress","getInfoForPoolsForPair","PoolInfo","poolInfo","dexName","symbol0","symbol1","reserve1","tvl0","tvl1","addressesToInclude","PoolView","setPoolList","activePools","setActivePools","setKeys","lastRequestLength","setLastRequestLength","newArr","newKey","nd","addressArray","ap","k","addressToRemove","keyIndex","newKeys","marginBottom","CoreManager","set","App","initialize","appId","serverURL","serverUrl","useMoralis","authenticate","isAuthenticating","isAuthenticated","logout","authError","user","fontStyle","templateColumns","clsSpan","colSpan","overflow","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","theme","extendTheme","initialColorMode","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.29664b1e.chunk.js","sourcesContent":["import Moralis from \"moralis\";\nimport {getBlockFromDate} from \"./miscService\";\n\nexport const getTokenList = async () : Promise<any[]> => {\n\n    const TOKEN = Moralis.Object.extend(\"TokenDetails\")\n    const query = new Moralis.Query(TOKEN);\n    query.select(\"name\", \"id\",\"address\",\"symbol\",\"logoUrl\");\n    const results = await query.find();\n    const tokenList = results.map((r)=>{\n        return {name:r.get(\"name\"),address: r.get(\"address\"),symbol: r.get(\"symbol\"), logoUrl: r.get(\"logoUrl\")}\n    });\n    return tokenList;\n}\n\nexport const getTokenByAddress = async (address: any) => {\n    const TOKEN = Moralis.Object.extend(\"TokenDetails\")\n    const query = new Moralis.Query(TOKEN);\n    query.select(\"name\", \"id\",\"address\",\"symbol\",\"logoUrl\");\n    query.equalTo(\"address\", address);\n    const results = await query.find();\n    const tokenInfo = results.map((r)=>{\n        return {name:r.get(\"name\"),address: r.get(\"address\"),symbol: r.get(\"symbol\"), logoUrl: r.get(\"logoUrl\")}\n    });\n    return tokenInfo[0];\n}\n\n\nexport const getTokenPrice = async (address : any , chain?: any, to_date?: any) => {\n\n    const options  = {\n        address: address,\n        chain: chain?chain:\"avalanche\"\n    };\n\n    if (to_date) {\n        const blockInfo = await getBlockFromDate(to_date);\n        Object.assign(options,{to_block: blockInfo.block});\n    }\n\n    const tokenPrice = await Moralis.Web3API.token.getTokenPrice(options);\n    console.log(`Price for token with address ${address} is ${tokenPrice.usdPrice}`);\n    return tokenPrice;\n}\n\n\nexport const getTokenPriceFromDB = async (address : any) => {\n    const TokenPrice = Moralis.Object.extend(\"Token15Min\")\n    const query = new Moralis.Query(TokenPrice);\n\n    query.select(\"timeStamp\",\"price\", \"address\", \"marketCap\");\n\n    query.equalTo(\"address\", address);\n    query.descending(\"timeStamp\");\n    query.limit(1);\n    const result = await query.find();\n    return {price: result[0]?.get(\"price\").toFixed(2), address: result[0]?.get(\"address\"), marketCap: result[0]?.get(\"marketCap\")};\n}\n\n\n\n\n\n\nexport const getTokenMetadata = async (address : any , chain?: any) => {\n    const options : any  = {\n        addresses: address,\n        chain: chain?chain:\"avalanche\"\n    };\n    const metadata = await Moralis.Web3API.token.getTokenMetadata(options);\n    return metadata;\n}\n\n\n\n\nexport const getTokenPriceHistory = async (address:any, dateInterval: string[]) => {\n    const priceHistory = [];\n    for(let date of dateInterval) {\n        console.log(\"Date is: \", date);\n        try {\n            const price : any = await getTokenPrice(address, \"avalanche\", date);\n            console.log(\"Timestamp date : \", date);\n            price[\"date\"] = new Date(date);\n            price[\"address\"] = address;\n            priceHistory.push(price);\n        } catch (e) {\n            console.log(\"Error getting price\")\n        }\n\n    }\n    console.log(\"Price history is: \", priceHistory);\n    return priceHistory;\n}\n\nexport const getTokenPriceHistoryDB = async (address : any, interval: string, since? : any, upTo? : any) : Promise<any>=> {\n    console.log(\"Received class name: \", interval);\n    // console.log(\"Asking prices previous to: \", since);\n    let TokenPrice = Moralis.Object.extend(interval);\n    const query = new Moralis.Query(TokenPrice);\n    const fetchFromAverage = (interval==\"Token1Day\" || interval==\"Token4Hour\" || interval==\"Token1Hour\");\n    const priceKey = fetchFromAverage?\"averagePrice\":\"price\";\n    query.select(priceKey, \"id\", \"timeStamp\",\"exchange\", \"symbol\", \"pctChange\");\n    query.equalTo(\"address\", address);\n    if(since) {\n        query.greaterThan(\"timeStamp\", since)\n    }\n    if (upTo) {\n        query.lessThan(\"timeStamp\", upTo);\n    }\n    query.ascending(\"timeStamp\");\n    query.limit(5000);\n    const results = await query.find();\n    const tokenPrices = results.map((r)=>{\n        const obj = {price:fetchFromAverage?r.get(\"averagePrice\"):r.get(\"price\"),timestamp: r.get(\"timeStamp\"), exchange:r.get(\"exchange\"), symbol: r.get(\"symbol\")};\n        if(interval!=='Token15Min')\n            Object.assign(obj,{pctChange: r.get(\"pctChange\")})\n\n        return obj;\n    });\n    return tokenPrices;\n\n}\n\n\nexport const getTokenLogoUrls = async () : Promise<any[]>  => {\n    const TokenLogo = Moralis.Object.extend(\"TokenLogos\")\n    const query = new Moralis.Query(TokenLogo);\n    query.select(\"address\", \"logoUrl\");\n    // query.equalTo(\"address\", address);\n    const tokenUrls = await query.find();\n    const urls = tokenUrls.map(tu=>{\n        return{'logoUrl': tu.get(\"logoUrl\"), 'address': tu.get('address')}\n    })\n    return urls;\n}\n\nexport const getTokenLogoUrlForAddress = async (address: string) : Promise<any>  => {\n    const TokenLogo = Moralis.Object.extend(\"TokenLogos\")\n    const query = new Moralis.Query(TokenLogo);\n    query.select(\"address\", \"logoUrl\");\n    query.equalTo(\"address\", address);\n    const tokenUrl = await query.find();\n    return tokenUrl[0];\n}\n\n\n\n\nexport const fetchTokensForHeatMap = async (intervalStep : any, since?: any, upTo?: any, filterTokens:any[] = []) => {\n\n    let tokens = await getTokenList();\n    if(filterTokens.length > 0) {\n        tokens = tokens.filter((t:any)=>filterTokens.includes(t.symbol));\n    }\n    const tokenPricesForHeat : any[] = [];\n    await Promise.all(tokens.map(async (t) => {\n        const prices = await getTokenPriceHistoryDB(t.address, intervalStep, since, upTo)\n        const freshRecord: { timestamp: any; symbol: any; price: any; pctChange: any }[] = [];\n        prices.reverse().map((p:any)=>{\n            freshRecord.push({\"timestamp\":p.timestamp,\"symbol\":p.symbol, \"price\":p.price, \"pctChange\": p.pctChange});\n        });\n        tokenPricesForHeat.push(...freshRecord);\n    }))\n    return tokenPricesForHeat;\n\n}\n\n\n\n\n\n","\n\nexport const ColorPalette = {\n    mainColor: \"#056674\",\n    secondaryColor: \"#FF4B5C\",\n    thirdColor: \"#FF4B5C\",\n    highlight: \"#66BFBF\",\n    red: \"#fd4431\",\n    green: \"#09D766\",\n    backgroundColor:'white',\n    navFontColor: 'white'\n}\n\n\n\n//     {\n//     mainColor: \"#0070b5\",\n//     secondaryColor: \"#49b7e9\",\n//     thirdColor: \"#8681e8\",\n//     highlight: \"#fe89be\",\n//     red: \"#fd4431\",\n//     green: \"#09D766\"\n// }","\nimport {HStack, Text} from '@chakra-ui/react';\nimport {faInfoCircle} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport React, {useState} from \"react\";\nimport {ColorPalette} from \"../styles/color_palette\";\n\nexport default function Title(props: any) {\n\n    const [popupActivated, setPopupActivated] = useState(false);\n\n    const [popupCoords, setPopupCoords] = useState([0,0]);\n\n    const handleInfoHover = (e:any) => {\n        console.log(\"Event: \", e.target);\n        console.log(\"Boundingrect: \", e.target.getBoundingClientRect())\n        const rect = e.target.getBoundingClientRect()\n        setPopupCoords([rect.x, rect.y])\n        console.log(\"Activating popup\");\n        setPopupActivated(true);\n    }\n\n    const handleInfoOut = () => {\n        setPopupActivated(false);\n\n    }\n\n\n    return(<HStack style={{margin:20}}>\n        <Text fontSize='2xl'>{props.title}</Text>\n        {props.hasInfo && <div onMouseEnter={handleInfoHover} onMouseLeave={handleInfoOut} style={{padding:10}}><FontAwesomeIcon  icon={faInfoCircle}  style={{float:'right',color:ColorPalette.mainColor}}/></div>}\n        {popupActivated && (<div style={{position:'absolute', left: popupCoords[0] + 20,top: popupCoords[1] + 20, float:'left',backgroundColor:ColorPalette.mainColor, opacity:0.95, zIndex:999,borderColor:'gray', borderWidth:1,\n            borderRadius:10, width:200, height: 200, padding:20}}>Hey</div>)}\n    </HStack>)\n}","import React, {ReactNode, useEffect, useState} from 'react';\nimport {getTokenList, getTokenLogoUrls, getTokenPrice, getTokenPriceFromDB} from \"../services/tokenService\";\nimport {\n    Table,\n    Tbody,\n    Td,\n    Th,\n    Thead,\n    Tr, useDisclosure\n} from \"@chakra-ui/react\";\nimport {useNavigate} from \"react-router-dom\";\nimport Title from \"./genericComponents/Title\";\nimport {ColorPalette} from \"./styles/color_palette\";\nimport AvadaSpinner from \"./genericComponents/AvadaSpinner\";\nimport  { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheckSquare, faSort } from '@fortawesome/free-solid-svg-icons'\nimport {sort} from \"../utils/generalUtil\";\n// import fontawesome from '@fortawesome/fontawesome'\n\n// fontawesome.library.add(faSort as any);\n\nfunction Drawer(props: { isFullHeight: boolean, placement: string, onClose: any, isOpen: any, children: ReactNode }) {\n    return null;\n}\n\nfunction Tokens(props:any)  {\n\n    const [tokenList, setTokenList] = useState<any[]>([])\n    const [isAscending, setIsAscending] = useState(false);\n\n    useEffect (()=> {\n        getTokenList()\n\n            .then((tokens)=>{\n                const filteredTokens = tokens.filter((t:any)=>t.symbol!='ANY' && t.symbol!='SUSHI.e');\n                console.log(\"FIltered tokens: \", filteredTokens);\n                setTokenList(filteredTokens);\n\n                // fetchTokenProps(tokenList);\n\n            });\n    },[])\n\n    useEffect(()=> {\n        fetchTokenProps(tokenList);\n    },[tokenList])\n\n\n    const fetchTokenProps = (tokens: any[]) => {\n        console.log(\"Will start props fetching!!\");\n        tokens.map((token)=> {\n            console.log(\"Fetching for: \", token.address);\n            getTokenPriceFromDB(token.address)\n                .then((t)=>{\n                    console.log(\"Received that...\");\n                    const updatedTokens = tokenList;\n                    const index = updatedTokens.findIndex((obj:any) => obj.address == t.address);\n                    if(updatedTokens[index]) {\n                        updatedTokens[index].price = t.price?t.price:0;\n                        updatedTokens[index].marketCap = t.marketCap?t.marketCap:0;\n                        console.log(\"Updated: \", t.address);\n                        setTokenList(updatedTokens);\n                    }\n                })\n        })\n    }\n\n\n\n\n\n    const sortTokens = (prop : string) => {\n        setTokenList(sort(tokenList, prop, isAscending));\n        setIsAscending(!isAscending);\n    }\n\n\n    return (\n        <div style={{...props.style}}>\n            <Title title=\"Tokens\" hasInfo/>\n            {tokenList.length>0 &&\n                <TokenList tokenList={tokenList} sort={sortTokens}/>}\n        </div>\n    );\n}\n\n\nfunction TokenList(props: any) {\n\n\n    const navigate = useNavigate();\n\n    const [selected, setSelected] = useState<number | null>(null);\n\n    const handleHover = (e: any, idx: number) => {\n        setSelected(idx);\n    }\n\n    const handleLeave = () => {\n        setSelected(null);\n    }\n\n    const renderTokenPrice = (token : any) => {\n        if(token.price > -1) {\n            return (<span>{'$ ' + token.price}</span>)\n        } else {\n            // return (<AvadaSpinner spinnerSize={40} style={{alignItems:'center', justifyContent: 'center'}}/>)\n            return(<span>-</span>)\n        }\n    }\n\n    const renderMarketCap = (token:any) => {\n        if(token.marketCap > -1) {\n            return (<span>{'M$ ' + (token.marketCap / 10**6).toFixed(2)}</span>)\n        } else {\n            // return (<AvadaSpinner spinnerSize={40} style={{alignItems:'center', justifyContent: 'center'}}/>)\n            return(<span>-</span>)\n        }\n    }\n\n\n\n\n\n\n\n    return(<Table variant='simple'>\n        <Thead>\n            <Tr>\n                <Th>Name</Th>\n                <Th>Symbol <FontAwesomeIcon icon={faSort} onClick={()=>props.sort('symbol')}/></Th>\n                <Th>Current Price <FontAwesomeIcon icon={faSort} onClick={()=>props.sort('price')}/></Th>\n                <Th>Market Cap <FontAwesomeIcon icon={faSort} onClick={()=>props.sort('marketCap')}/></Th>\n            </Tr>\n        </Thead>\n            <Tbody>\n                {props.tokenList.map((token: any, idx: number)=> {\n                    return(<Tr key={idx} style={selected==idx?{backgroundColor:ColorPalette.highlight, borderRadius:10, cursor:'pointer'}:{}}\n                               onMouseEnter={(e)=> handleHover(e, idx)}\n                               onMouseLeave={()=>handleLeave()}\n                               onClick={()=>navigate(`/token/${token.address}`)}>\n                        <Td><img style={{width:64, height:64}} src={token.logoUrl}/></Td>\n                        <Td>{token.symbol}</Td>\n                        <Td>{renderTokenPrice(token)}</Td>\n                        <Td>{renderMarketCap(token)}</Td>\n                    </Tr>)\n                })}\n            </Tbody>\n\n    </Table>)\n}\n\n\n\n\nexport default Tokens;","\n\nexport const sort = (arr: any[],prop: string, isAscending: boolean) => {\n\n    if(isAscending) {\n        arr.sort( function( a:any , b:any){\n            if(parseFloat(a[prop]) > parseFloat(b[prop])) return 1;\n            if(parseFloat(a[prop]) < parseFloat(b[prop])) return -1;\n            return 0;\n        });\n    } else {\n        arr.sort( function( a:any , b:any){\n            if(parseFloat(a[prop]) > parseFloat(b[prop])) return -1;\n            if(parseFloat(a[prop]) < parseFloat(b[prop])) return 1;\n            return 0;\n        });\n    }\n\n    console.log(\"Sorted: \", arr);\n    return arr;\n}\n","import React from \"react\";\nimport classNames from \"classnames\";\n\nconst CrossHairs = props => {\n    const { x, y, chart_dims,style } = props;\n\n    if (x + y === 0) {\n        return <></>;\n    }\n\n    return (\n        <>\n            <line\n                x1={0}\n                y1={y}\n                x2={chart_dims.pixel_width}\n                y2={y}\n                style={style}\n                className={classNames({\n                    cross_hair: true,\n                    horz: true\n                })}\n            />\n            <line\n                x1={x}\n                y1={0}\n                x2={x}\n                y2={chart_dims.pixel_height}\n                style={style}\n                className={classNames({\n                    cross_hair: true,\n                    vert: true\n                })}\n            />\n        </>\n    );\n};\n\nexport default CrossHairs;\n","export const onMouseLeave = (setMouseCoords: any) => {\n    setMouseCoords({\n        x: 0,\n        y: 0\n    });\n};\n\nexport const onMouseMoveInside = (e:any, setMouseCoords: any) => {\n    setMouseCoords({\n        x:\n            e.nativeEvent.x -\n            Math.round(e.currentTarget.getBoundingClientRect().left),\n        y:\n            e.nativeEvent.y -\n            Math.round(e.currentTarget.getBoundingClientRect().top)\n    });\n};\n\nexport const dollarAt = (pixel:any, chart_dims: any) => {\n    const dollar =\n        (Math.abs(pixel - chart_dims.pixel_height) / chart_dims.pixel_height) *\n        chart_dims.dollar_delta +\n        chart_dims.dollar_low;\n\n    return pixel > 0 ? dollar.toFixed(2) : \"-\";\n};","import React, {useEffect, useRef, useState} from \"react\";\nimport * as d3 from \"d3\";\nimport {transition} from \"d3-transition\";\nimport {select, selectAll} from \"d3-selection\";\nimport {axisBottom, axisLeft} from \"d3\";\nimport CrossHairs from \"./candlestick/CrossHairs\";\nimport {dollarAt, onMouseLeave, onMouseMoveInside} from \"./utils/mouseUtils\";\nimport {ColorPalette} from \"../styles/color_palette\";\nimport {addAxis, addGrid, updateGrid} from \"./utils/plotUtils\";\n\n\nconst BasicChart = (props: any) => {\n\n    const {data,width, height, dates} = props;\n\n    const [lineGenerator, setLineGenerator] = useState<any>(undefined);\n\n\n    const [mouseCoords, setMouseCoords] = useState({\n        x: 0,\n        y: 0\n    });\n\n    const dollar_low = Math.round(data.reduce((a:number,b:number) => Math.min(a,b)));\n    const dollar_high = Math.ceil(data.reduce((a:number,b: number)=> Math.max(a,b)));\n\n\n    const chart_dims = {\n        pixel_width: width,\n        pixel_height: height,\n        dollar_high,\n        dollar_low,\n        dollar_delta: dollar_high - dollar_low\n    };\n\n\n    // console.log(\"Domain is: \", xDomain);\n\n    const svgRef = useRef<any>();\n\n    function updateChart() {\n        const {\n             data,\n        } = props;\n\n\n        const t : any = transition().duration(1000);\n\n        const line = select('#line');\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height)\n            .style('background', ColorPalette.backgroundColor)\n            .style('margin-left', '50')\n            .style('overflow', 'visible');\n\n\n        const xScale: any = d3.scaleTime()\n            .domain([new Date(dates[0]*1000),new Date(dates[dates.length -1] * 1000)]) // x ticks\n            .range([0, width]) // x width\n\n        const yMin = Math.round(data.reduce((a:number,b:number) => Math.min(a,b)));\n        const yMax = Math.ceil(data.reduce((a:number,b: number)=> Math.max(a,b)));\n        const yScale: any = d3.scaleLinear()\n            .domain([yMin, yMax])\n            .range([height, 0])\n\n\n        const xAxis: any = d3.axisBottom(xScale)\n            .ticks(5);\n\n        svg.selectAll('g.x.axis')\n            .attr(\"transform\",\"translate(0,\" + height + \")\")\n            .call(xAxis);\n\n        const yAxis: any = d3.axisLeft(yScale)\n            .ticks(5);\n\n        svg.selectAll('g.y.axis')\n            .call(yAxis);\n\n\n        updateGrid(svg,xScale,yScale,height,width);\n\n\n        const lineGenerator = d3.line()\n            .x((d, i)=> xScale(new Date(dates[i]*1000)))\n            .y(yScale)\n            .curve(d3.curveLinear)\n\n        line\n            .datum(data)\n            .transition(t)\n            .attr('d', lineGenerator);\n    }\n\n\n    const setupData = (svg:any, data:any, line:any, options: any) => {\n        // Setup data\n        svg\n            .append('path')\n            .datum(data)\n            .attr('id', 'line')\n            .attr('stroke', options.strokeColor?options.strokeColor:'black')\n            .attr('stroke-width', 2)\n            .attr('fill', 'none')\n            .attr('d', line);\n    }\n\n\n\n    const setupLinearGraph = (prices: any[]) => {\n\n        // Setup svg\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height)\n            .style('background', ColorPalette.backgroundColor)\n            .style('margin-left', '50')\n            .style('overflow', 'visible');\n\n        // Setup scaling\n\n        const xScale: any = d3.scaleTime()\n            .domain([new Date(dates[0]*1000),new Date(dates[dates.length -1] * 1000)]) // x ticks\n            .range([0, width]) // x width\n\n\n        const yMin = Math.round(data.reduce((a:number,b:number) => Math.min(a,b)));\n        const yMax = Math.ceil(data.reduce((a:number,b: number)=> Math.max(a,b)));\n        console.log(\"Y max is: \", yMax);\n        console.log(\"Y min is: \", yMin);\n        const yScale: any = d3.scaleLinear()\n            .domain([yMin, yMax])\n            .range([height, 0])\n\n        // Setting up line\n        const line = d3.line()\n            .x((d, i)=> xScale(i))\n            .y(yScale)\n            .curve(d3.curveLinear)\n        // setLineGenerator(line);\n\n        addAxis(svg,xScale,yScale, width,height,5,5,'Date', 'USD Price');\n\n        addGrid(svg,xScale,yScale,height,width);\n\n        const dataOptions = {strokeColor: ColorPalette.secondaryColor}\n        setupData(svg, data,line, dataOptions);\n        return line;\n    }\n\n\n    useEffect(()=>{\n\n        setupLinearGraph(data);\n    },[])\n\n\n    useEffect(() => {\n        updateChart()\n        }, [data])\n\n\n        return (\n            <div>\n                <svg onMouseMove={(e)=>onMouseMoveInside(e, setMouseCoords)}\n                     onMouseLeave={()=>onMouseLeave(setMouseCoords)}\n                     style={{marginLeft: \"100px\", zIndex:-1}} ref={svgRef}>\n                    <text x=\"10\" y=\"16\" fill={ColorPalette.mainColor} fontSize=\"25\">\n                        <tspan x=\"10\" y=\"30\" color={ColorPalette.red}>\n                            Dollars: ${dollarAt(mouseCoords.y, chart_dims)}\n                        </tspan>\n                    </text>\n                    <CrossHairs style={{stroke:\"#892CDC\",strokeWidth:2}} x={mouseCoords.x} y={mouseCoords.y} chart_dims={{pixel_width: width, pixel_height: height}} />\n                </svg>\n\n            </div>\n        )\n\n};\n\nexport default BasicChart;","import {axisBottom, axisLeft} from \"d3\";\nimport {ColorPalette} from \"../../styles/color_palette\";\nimport * as d3 from \"d3\";\n\nexport const addGrid = (svg: any, xScale : any, yScale : any, height : any, width : any) => {\n    const tickFormat : any = \"\";\n\n    const xAxisGrid : any = axisBottom(xScale).tickSize(-height).tickFormat(tickFormat).ticks(10);\n    const yAxisGrid : any = axisLeft(yScale).tickSize(-width).tickFormat(tickFormat).ticks(10);\n    svg.append('g')\n        .attr('class', 'x axis-grid')\n        .attr('color', ColorPalette.highlight)\n        .attr('transform', 'translate(0,' + height + ')')\n        .call(xAxisGrid);\n    svg.append('g')\n        .attr('class', 'y axis-grid')\n        .attr('color', ColorPalette.highlight)\n        .call(yAxisGrid);\n}\n\n\nexport const updateGrid = (svg: any, xScale : any, yScale : any, height : any, width : any) => {\n    const tickFormat : any = \"\";\n\n    const xAxisGrid : any = axisBottom(xScale).tickSize(-height).tickFormat(tickFormat).ticks(10);\n    const yAxisGrid : any = axisLeft(yScale).tickSize(-width).tickFormat(tickFormat).ticks(10);\n    svg.selectAll('g.y.axis-grid')\n        .attr('class', 'y axis-grid')\n        .attr('color', ColorPalette.highlight)\n        .call(xAxisGrid)\n\n    svg.selectAll('g.y.axis-grid')\n        .attr('class', 'y axis-grid')\n        .attr('color', ColorPalette.highlight)\n        .call(yAxisGrid);\n}\n\n\n\nexport const addAxis = (svg: any, xScale: any, yScale: any, width:number, height: number, xTicks:number, yTicks:number , xLabel: string, yLabel: string) => {\n    const dateFormat : any = d3.timeFormat('%b')\n    // Setup the axes\n\n    const yAxis = d3.axisLeft(yScale)\n        .ticks(5);\n\n    const xAxis = d3.axisBottom(xScale)\n        .ticks(5);\n\n    svg.append('g')\n        .attr('class', 'x axis')\n        .attr('color', ColorPalette.mainColor)\n        .attr(\"transform\",\"translate(0,\" + height + \")\")\n        .call(xAxis)\n\n    svg.append('g')\n        .attr('color', ColorPalette.mainColor)\n        .attr('class', 'y axis')\n        .call(yAxis)\n\n\n    svg.append(\"text\")\n        .attr(\"class\", \"y label\")\n        .attr('color', ColorPalette.mainColor)\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"y\", -50 - 10)\n        .attr(\"x\",  - height/2 + 10)\n        .attr(\"dy\", \".75em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(yLabel);\n}\n\n\n","import React from \"react\";\nimport classNames from \"classnames\";\nimport * as d3 from \"d3\";\n\nconst Candle = props => {\n    const { data, x, candle_width, pixelFor } = props;\n\n    const up = data.close > data.open;\n    const bar_top = pixelFor(up ? data.close : data.open);\n    const bar_bottom = pixelFor(up ? data.open : data.close);\n    const bar_height = bar_bottom - bar_top;\n    const wick_top = pixelFor(data.high);\n    const wick_bottom = pixelFor(data.low);\n\n    return (\n        <>\n            <rect\n                x={x - candle_width / 2}\n                y={bar_top}\n                width={candle_width}\n                height={bar_height}\n                className={classNames({\n                    candle: true,\n                    up: up,\n                    down: !up\n                })}\n            />\n            <line\n                className={classNames({\n                    wick: true,\n                    top: true,\n                    up: up,\n                    down: !up\n                })}\n                x1={x}\n                y1={bar_top}\n                x2={x}\n                y2={wick_top}\n            />\n            <line\n                className={classNames({\n                    wick: true,\n                    bottom: true,\n                    up: up,\n                    down: !up\n                })}\n                x1={x}\n                y1={bar_bottom}\n                x2={x}\n                y2={wick_bottom}\n            />\n        </>\n    );\n};\n\nexport default Candle;\n","import React, {useEffect, useRef, useState} from \"react\";\nimport classNames from \"classnames\";\nimport * as d3 from \"d3\";\n\nimport Candle from \"./Candle\";\nimport CrossHairs from \"./CrossHairs\";\nimport {axisBottom, axisLeft} from \"d3\";\nimport {dollarAt, onMouseLeave, onMouseMoveInside} from \"../utils/mouseUtils\";\n\nconst Chart = props => {\n    const { data, width: chart_width, height: chart_height } = props;\n\n    // console.log(\"Received data: \", data);\n    const svgRef = useRef();\n    // let { last_bar_idx = 0, bars_wide = 40 } = props;\n\n    // last_bar_idx should default to the last bar in the data, or else be sure passed-in value doesn't exceed the last bar\n    // last_bar_idx = last_bar_idx > 0 ? Math.min(last_bar_idx, data.length - 1) : data.length - 1;\n\n    const [mouseCoords, setMouseCoords] = useState({\n        x: 0,\n        y: 0\n    });\n\n\n    // find the high and low bounds of all the bars being sidplayed\n    const dollar_high = d3.max(data.map(bar => bar.high)) * 1.05;\n    const dollar_low = d3.min(data.map(bar => bar.low)) * 0.95;\n\n    console.log(`Highs are: high ${dollar_high} and low ${dollar_low}`);\n\n    const chart_dims = {\n        pixel_width: chart_width,\n        pixel_height: chart_height,\n        dollar_high,\n        dollar_low,\n        dollar_delta: dollar_high - dollar_low\n    };\n\n    const dollarAt = pixel => {\n        const dollar =\n            (Math.abs(pixel - chart_dims.pixel_height) / chart_dims.pixel_height) *\n            chart_dims.dollar_delta +\n            chart_dims.dollar_low;\n\n        return pixel > 0 ? dollar.toFixed(2) : \"-\";\n    };\n\n    const pixelFor = dollar => {\n        return Math.abs(\n            ((dollar - chart_dims[\"dollar_low\"]) / chart_dims[\"dollar_delta\"]) *\n            chart_dims[\"pixel_height\"] -\n            chart_dims[\"pixel_height\"]\n        );\n    };\n\n    const onMouseLeave = () => {\n        setMouseCoords({\n            x: 0,\n            y: 0\n        });\n    };\n\n    const onMouseMoveInside = e => {\n        setMouseCoords({\n            x:\n                e.nativeEvent.x -\n                Math.round(e.currentTarget.getBoundingClientRect().left),\n            y:\n                e.nativeEvent.y -\n                Math.round(e.currentTarget.getBoundingClientRect().top)\n        });\n    };\n\n    const onMouseClickInside = e => {\n        console.log(`Click at ${e.nativeEvent.offsetX}, ${e.nativeEvent.offsetY}`);\n    };\n\n    // calculate the candle width\n    const candle_width = Math.floor((chart_width / data.length) * 0.7);\n\n\n    const addGrid = (svg, xScale, yScale, height , width ) => {\n        const tickFormat = \"\";\n\n        const xAxisGrid = axisBottom(xScale).tickSize(-height).tickFormat(tickFormat).ticks(10);\n        const yAxisGrid = axisLeft(yScale).tickSize(-width).tickFormat(tickFormat).ticks(10);\n        svg.append('g')\n            .attr('class', 'x axis-grid')\n            .attr('color', '#c8a1ff')\n            .attr('transform', 'translate(0,' + height + ')')\n            .call(xAxisGrid);\n        svg.append('g')\n            .attr('class', 'y axis-grid')\n            .attr('color', '#c8a1ff')\n            .call(yAxisGrid);\n    }\n\n    const addAxis = (svg, xScale, yScale,width, height, ticks) => {\n        // Setup the axes\n        const xAxis = d3.axisBottom(xScale)\n            .ticks(ticks)\n            .tickFormat((i) => i + 1)\n\n        const yAxis = d3.axisLeft(yScale)\n            .ticks(5);\n\n        svg.append('g')\n            .call(xAxis)\n            .attr('transform', `translate(0, ${height})`)\n\n        svg.append('g')\n            .call(yAxis)\n\n\n        svg.append(\"text\")\n            .attr(\"class\", \"y label\")\n            .attr(\"text-anchor\", \"end\")\n            .attr(\"y\", -50)\n            .attr(\"x\",  - height/2)\n            .attr(\"dy\", \".75em\")\n            .attr(\"transform\", \"rotate(-90)\")\n            .text(\"Price (USD)\");\n\n        return [xAxis, yAxis]\n    }\n\n    const drawGraph = () => {\n\n        const xScale = d3.scaleLinear()\n            .domain([0, data.length]) // x ticks\n            .range([0, props.width]) // x width\n        const highs = data.map(d=>d.high);\n        const lows = data.map(d=>d.low);\n        const yMin = Math.round(lows.reduce((a,b) => Math.min(a,b)));\n        const yMax = Math.ceil(highs.reduce((a,b)=> Math.max(a,b)));\n        console.log(\"Y max is: \", yMax);\n        console.log(\"Y min is: \", yMin);\n        const yScale = d3.scaleLinear()\n            .domain([yMin, yMax])\n            .range([props.height, 0])\n\n        const ticksNumber = 10;\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', props.width)\n            .attr('height', props.height)\n            .style('background', 'white')\n            .style('margin-left', '50')\n            .style('overflow', 'visible');\n\n        const [xAxis,yAxis] = addAxis(svg,xScale,yScale, props.width,props.height,ticksNumber);\n\n\n        addGrid(svg,xScale,yScale,props.height,props.width);\n\n    }\n\n    useEffect(() => {\n        // console.log(\"Setting up with prices: \", data);\n        drawGraph();\n    }, [])\n\n\n\n    return (\n        <svg\n            ref={svgRef}\n            width={chart_width}\n            height={chart_height}\n            // onMouseMove={onMouseMoveInside}\n            onClick={onMouseClickInside}\n            // onMouseLeave={onMouseLeave}\n\n            onMouseMove={(e)=>onMouseMoveInside(e, setMouseCoords)}\n            onMouseLeave={()=>onMouseLeave(setMouseCoords)}\n            style={{marginLeft: \"100px\", zIndex:-1}} ref={svgRef}>\n            <text x=\"10\" y=\"16\" fill=\"black\" fontSize=\"20\">\n                <tspan x=\"10\" y=\"30\" color=\"black\">\n                    Dollars: ${dollarAt(mouseCoords.y, chart_dims)}\n                </tspan>\n            </text>\n            {data.map((bar, i) => {\n                const candle_x = (chart_width / (data.length + 1)) * (i + 1);\n                return (\n                    <Candle\n                        key={i}\n                        data={bar}\n                        x={candle_x}\n                        candle_width={candle_width}\n                        pixelFor={pixelFor}\n                    />\n                );\n            })}\n            <text x=\"10\" y=\"16\" fill=\"white\" fontSize=\"10\">\n                <tspan x=\"10\" y=\"30\">\n                    Dollars: ${dollarAt(mouseCoords.y)}\n                </tspan>\n            </text>\n            <CrossHairs style={{stroke:\"black\",strokeWidth:2}} x={mouseCoords.x} y={mouseCoords.y} chart_dims={chart_dims} />\n        </svg>\n    );\n};\n\nexport default Chart;\n","import React, {useEffect, useState} from \"react\";\nimport * as d3 from \"d3\";\nimport \"./styles.css\";\nimport Chart from \"./Chart\";\n\n\nexport default function CandleStickTemplate(props) {\n\n    let bars_displayed = 40;\n    let last_bar_displayed = 0;\n\n    const randomOne = (weight = 1) => {\n        return (Math.random() + Math.random() - 1) * weight;\n    };\n\n\n\n\n    const buildCandles = () => {\n\n        const mergedPrices = [];\n        let idx = 0;\n        let candle= [];\n        props.data.map((price) => {\n            if(idx<4) {\n                candle.push(price);\n                idx +=1;\n            } else {\n                mergedPrices.push(candle);\n                candle = [];\n                idx = 0;\n            }\n        })\n\n        console.log(\"Candles: \", mergedPrices);\n\n        return mergedPrices.map((prices, i) => {\n            const open =prices[0];\n            const close = prices[3];\n            const high = prices.reduce((a,b)=> Math.max(a,b))\n            const low = prices.reduce((a,b)=> Math.min(a,b))\n            return {\n                time: i,\n                open,\n                high,\n                low,\n                close\n            };\n        })\n\n    }\n\n\n    const generateData = () => {\n        const length = Math.round(Math.random() * 90) + 10;\n\n        // initial values\n        const seed_close = Math.random() * 150 + 50;\n        let previous_close = seed_close;\n        let previous_volume = Math.random() * 300 + 10;\n        let trend = Math.floor(Math.random() * 2) * 2 - 1;\n\n        // calculate each bar\n        return d3.range(length).map((item, i) => {\n            const open = previous_close * (1 + randomOne(0.1));\n            const close = open * (1 + randomOne(0.2) * trend);\n            const high = Math.max(open, close) * (1 + randomOne(0.1));\n            const low = Math.min(open, close) * (1 - randomOne(0.1));\n            const volume = previous_volume * (1 + randomOne(0.5));\n\n            previous_close = close;\n            trend = Math.floor(Math.random() * 2) * 2 - 1;\n\n            return {\n                time: i,\n                open,\n                high,\n                low,\n                close,\n                volume\n            };\n        });\n    };\n    buildCandles();\n\n    const [data, setData] = useState(buildCandles());\n    // const changeData = () => {\n    //     setData(generateData);\n    //\n    // };\n\n    useEffect(()=>{\n        console.log(\"Building candles\");\n        setData(buildCandles());\n    },props.data)\n\n\n    // const data_on_chart = data.slice()\n\n    return (\n        <div>\n\n                <div>\n                    <Chart data={data} width={props.width} height={props.height} />\n                </div>\n\n        </div>\n    );\n}\n","import {SpinnerCircularSplit} from \"spinners-react\";\nimport React from \"react\";\nimport {ColorPalette} from \"../styles/color_palette\";\n\n\nconst NFTicketSpinner = (props:any) => {\n\n    return(\n        <div  style={{...props.style, justifyItems:'center'}}>\n            <SpinnerCircularSplit size={props.spinnerSize?props.spinnerSize:\"60\"} color={ColorPalette.secondaryColor}/>\n            <span style={{color:ColorPalette.secondaryColor,  marginLeft:\"20px\"}}>{props.message}</span>\n        </div>\n    )\n\n\n}\n\nexport default NFTicketSpinner;","import {Stack} from \"@chakra-ui/react\";\nimport {useState} from \"react\";\n\n\nexport default function MultipleSelection(props: any) {\n\n    const [selected, setSelected] = useState<number>(-1);\n\n\n    const handleHover = (e: any, idx: number) => {\n        setSelected(idx);\n    }\n\n    const handleLeave = () => {\n        setSelected(-1);\n    }\n\n\n    return (\n        <div >\n\n            <Stack direction='row'>\n                {\n                    props.buttons.map((b:any, idx: number)=>{\n                        return (<div id={`select-${idx}`} onClick={()=>props.selectionHandler(b.value)}\n                                     style={{backgroundColor:selected==idx?'grey':props.style.buttonColor,\n                            margin:10,\n                            padding:10,\n                            textAlign:\"center\",\n                             // height:20,\n                            borderRadius: 10,\n                            cursor: 'pointer',\n                            }}\n                                     onMouseEnter={(e)=> handleHover(e, idx)}\n                                     onMouseLeave={(e)=>handleLeave()}\n                        >\n                            <span>{b.label}</span>\n                        </div>)\n                    })\n                }\n            </Stack>\n        </div>\n    )\n}","import React, {useEffect, useState} from \"react\";\nimport {\n    getTokenByAddress,\n    getTokenMetadata,\n    getTokenPriceHistory,\n    getTokenPriceHistoryDB\n} from \"../services/tokenService\";\nimport {useParams} from \"react-router-dom\";\nimport {\n    Button, Flex,\n    Grid,\n    GridItem, HStack,\n    Radio,\n    RadioGroup,\n    RangeSlider, RangeSliderFilledTrack, RangeSliderThumb,\n    RangeSliderTrack,\n    Select,\n    Stack, VStack\n} from \"@chakra-ui/react\";\n\nimport BasicChart from \"./charts/BasicChart\";\nimport RadioSelection from \"./genericComponents/RadioSelection\";\nimport CandleStickTemplate from \"./charts/candlestick/CandleStickTemplate\";\nimport AvadaSpinner from \"./genericComponents/AvadaSpinner\";\nimport MultipleSelection from \"./genericComponents/MultipleSelection\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport {ColorPalette} from \"./styles/color_palette\";\nimport {dateFromTimeStamp} from \"../utils/dateUtils\";\nimport {get24HourPercentageChange} from \"../services/dashboardService\";\nimport {FaFontAwesome} from \"react-icons/all\";\nimport {faFileExport, faFileDownload} from \"@fortawesome/free-solid-svg-icons\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport ExportIcon from \"./genericComponents/ExportIcon\";\n\nenum CHART_TYPES_ENUM {\n    LINE,\n    CANDLESTICK\n}\n\n\nconst INTERVALS = [\n    { value: \"Token1Day\", label: '1 Day' },\n    { value: \"Token4Hour\", label: '4 Hours' },\n    { value: \"Token1Hour\", label: '1 Hour' },\n    {value: \"Token15Min\", label: '15 Mins'}\n]\n\nconst CHART_TYPES = [{ value: CHART_TYPES_ENUM.LINE, label: 'Line Chart' },\n    {value: CHART_TYPES_ENUM.CANDLESTICK, label: 'Candlestick chart'}]\n\n\n\nfunction TokenView(props:any)  {\n\n    const [intervalUnit, setIntervalUnit] = useState(INTERVALS[0].value);\n    const [radioOptions, setRadioOptions] = useState(INTERVALS);\n\n    const getIntervalStep = () => {\n        switch (intervalUnit) {\n            case \"Token1Day\":\n                return 24 * 60 * 60;\n            case \"Token4Hour\":\n                return 4 * 60 * 60;\n            case \"Token1Hour\":\n                return 60 * 60;\n            case \"Token15Min\":\n                return 15 * 60;\n            default:\n                return 1;\n        }\n    }\n\n    const [tokenInfo, setTokenInfo] = useState<any>(null);\n    const [tokenPrices, setTokenPrices] = useState <any[]>([]);\n    const [dates, setDates] = useState<any[]>([]);\n    const [chartType, setChartType] = useState(CHART_TYPES_ENUM.LINE);\n    const [sourceExchange, setSourceExchange] = useState<any[]>([]);\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n    const [noDataAvailable, setNoDataAvailable] = useState(false);\n    const {address} = useParams<string>();\n    // const [intervalUnit, setIntervalUnit] = useState<any>(INTERVALS[0].value); // Gives us used interval (1day, 4hour, 1hour, ...)\n    const [intervalStep, setIntervalStep] = useState<any>(getIntervalStep()) // Step for slider\n    const [initialOffset, setInitialOffset] = useState((Date.now() - 30*24*60*60*1000)/1000); // 30 days in the past in seconds\n    const [endOffset, setEndOffset] = useState(Date.now()/1000);\n    const [startDate, setStartDate] = useState<any>(dateFromTimeStamp(initialOffset));\n    const [endDate, setEndDate] = useState<any>(dateFromTimeStamp(Date.now()/1000));\n    const [pctChange, setPctChange] = useState(0);\n\n\n    useEffect(()=>{\n        setIsLoading(true);\n        getTokenByAddress(address)\n            .then((t)=> {\n                console.log(\"Received: \", t);\n                setTokenInfo(t);\n            })\n\n        get24HourPercentageChange(address)\n            .then((pct)=> {\n                setPctChange(pct)\n                // setPlotColor(pct>0?ColorPalette.green:ColorPalette.red)\n            });\n\n        getTokenPriceHistoryDB(address, intervalUnit, initialOffset, endOffset)\n            .then((h:any[])=> {\n                setTokenPrices([...h.map(r=>r)]);\n                if(tokenPrices.length==0) {\n                    setNoDataAvailable(true);\n                }\n                setDates([...h.map(h=>h.timestamp)]);\n                console.log(\"Got price history: \", tokenPrices)\n                setIsLoading(false);\n                const sources : any[] = [];\n                h.map((p)=>{\n                    if(!sources.includes(p.exchange)) {\n                        sources.push(p.exchange);\n                    }\n                })\n                setSourceExchange(sources);\n                console.log(\"Sources: \", sources);\n            })\n\n    },[])\n\n\n    const displayChart = () => {\n        if(chartType === CHART_TYPES_ENUM.LINE) {\n            return (<BasicChart data={tokenPrices.map(d=>d.price)} dates={dates} xDomain={dates}  width={1200} height={450} />)\n        } else {\n            return (<CandleStickTemplate data={tokenPrices.map(d=>d.price)} width={1200} height={450}/>)\n        }\n    }\n\n\n    const onChangeInterval = async (interval: any) => {\n        console.log(\"Asking price due to interval change: \", interval);\n        setIntervalUnit(interval);\n        setIntervalStep(getIntervalStep());\n\n        getTokenPriceHistoryDB(address, interval, initialOffset, endOffset)\n            .then((h:any[])=> {\n                setTokenPrices([...h.map(r=>r)]);\n                if(tokenPrices.length==0) {\n                    setNoDataAvailable(true);\n                }\n                setDates([...h.map(h=>h.timestamp)]);\n                setIsLoading(false);\n            })\n    }\n\n    const fetchLineChartData = (date: any) => {\n        getTokenPriceHistoryDB(address, intervalUnit, Math.round(date[0]),Math.round(date[1]))\n            .then((h:any[])=> {\n                setTokenPrices([...h.map(r=>r)]);\n                if(tokenPrices.length==0) {\n                    setNoDataAvailable(true);\n                }\n                setDates([...h.map(h=>h.timestamp)]);\n                setIsLoading(false);\n            })\n    }\n\n\n    const onDateDrag = (date: any) => {\n        setStartDate(dateFromTimeStamp(date[0]))\n        setEndDate(dateFromTimeStamp(date[1]))\n    }\n\n    const onChangeDate = (date:any) => {\n        setInitialOffset(date[0]);\n        setEndOffset(date[1]);\n\n        fetchLineChartData(date);\n    }\n\n\n    const chartSelectionHandler = (e: any) => {\n        console.log(\"Triggered with vale: \", e);\n        if(chartType === CHART_TYPES_ENUM.CANDLESTICK) {\n            setRadioOptions(INTERVALS);\n        } else {\n            setRadioOptions(radioOptions.filter((ro)=>ro.value!='Token15Min'))\n        }\n        setChartType(e);\n    }\n\n    const getPercentage = () => {\n\n        // Change this to be last 24 hour percentage\n        return parseFloat((pctChange * 100).toFixed(2));\n    }\n\n\n    return (\n        <div style={{alignItems:'center'}}>\n            {tokenInfo && (<div style={{margin:40, fontSize:'1.3em', fontWeight:'bold' , alignItems:'center'}}>\n                <HStack>\n                    <img src={tokenInfo.logoUrl} style={{width:60, height:60, margin:10}}/>\n                    <h2>{tokenInfo.name} / {tokenInfo.symbol}</h2>\n                </HStack>\n            </div>)}\n\n\n            {isLoading && <div style={{alignItems:'center', justifyItems:\"center\"}}><AvadaSpinner style={{width:'100%', height: \"100%\", marginTop:100, marginLeft:500}} message={`Loading price history`}/></div>}\n\n\n            {(!isLoading && tokenPrices.length) && <div style={{margin:50}}>\n                    {displayChart()}\n\n\n\n            </div>}\n\n\n            <div style={{width:'50%', marginLeft:60, marginTop:40}}>\n\n                <HStack  spacing={'24px'}>\n                    <RadioGroup onChange={(e)=>onChangeInterval(e)} value={intervalUnit}>\n                        <Stack direction='row'>\n                            {radioOptions.map(i=>{\n                                return (<Radio value={i.value}>{i.label}</Radio>)\n                            })}\n\n                        </Stack>\n                    </RadioGroup>\n                    <MultipleSelection title={\"Chart Type\"} selectionHandler={chartSelectionHandler} style={{buttonColor:ColorPalette.thirdColor}} buttons={[{value:CHART_TYPES_ENUM.LINE, label:'Line chart'},{value:CHART_TYPES_ENUM.CANDLESTICK, label:'Candle chart'}]}/>\n                    <ExportIcon/>\n                </HStack>\n\n                <div style={{borderWidth:1, borderStyle:'solid', borderRadius: 20, padding:20}}>\n                <HStack>\n\n\n                        <div>\n                            <span>Start date: </span>\n                            <span>{startDate}</span>\n                        </div>\n                    <div> / </div>\n                        <div>\n                            <span>End date: </span>\n                            <span>{endDate}</span>\n                        </div>\n\n                </HStack>\n\n                <RangeSlider onChange={(e)=> onDateDrag(e)}\n                             onChangeEnd={(e)=>onChangeDate(e)}\n                             defaultValue={[initialOffset, Math.round(Date.now() / 1000)]}\n                             min={1629504000} max={Math.round(Date.now() / 1000)}\n                             step={intervalStep} minStepsBetweenThumbs={10}\n\n                >\n                    <RangeSliderTrack bg={ColorPalette.thirdColor}>\n                        <RangeSliderFilledTrack bg={ColorPalette.thirdColor} />\n                    </RangeSliderTrack>\n                    <RangeSliderThumb boxSize={6} index={0} />\n                    <RangeSliderThumb boxSize={6} index={1} />\n                </RangeSlider>\n                </div>\n\n\n\n\n            </div>\n\n\n        </div>\n    );\n\n}\n\n\nexport default TokenView;","\n\nexport const dateFromTimeStamp = (timestamp : number) => {\n    const date = new Date(timestamp * 1000)\n    const month = parseInt(date.getMonth().toString()) + 1;\n    return date.getDate() + '-' + month + '-' + date.getFullYear()\n}","import {getTokenPrice} from \"./tokenService\";\nimport Moralis from \"moralis\";\n\n\nexport const getTopGainers = async () => {\n    const TokenPrice = Moralis.Object.extend(\"Token1Day\")\n    const query = new Moralis.Query(TokenPrice);\n    query.select(\"pctChange\", \"id\", \"timeStamp\",\"exchange\", \"symbol\");\n    const currentDate = new Date();\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() -2, 22, 0,0,0).getTime() / 1000;\n    // console.log(\"Checking prices greater than \",date);\n    query.greaterThanOrEqualTo(\"timeStamp\", date);\n    query.descending(\"pctChange\");\n    const results = await query.find();\n    const gainers = results.map((r)=>{\n        return {pctChange: r.get(\"pctChange\"), symbol: r.get(\"symbol\")}\n    })\n\n    return gainers.slice(0,5);\n}\n\n\nexport const getTopLosers = async () => {\n    const TokenPrice = Moralis.Object.extend(\"Token1Day\")\n    const query = new Moralis.Query(TokenPrice);\n    query.select(\"pctChange\", \"id\", \"timeStamp\",\"exchange\", \"symbol\");\n    const currentDate = new Date();\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() -2, 22, 0,0,0).getTime() / 1000;\n    // console.log(\"Checking prices greater than \",date);\n    query.greaterThanOrEqualTo(\"timeStamp\", date);\n    query.ascending(\"pctChange\");\n    const results = await query.find();\n    const gainers = results.map((r)=>{\n        return {pctChange: r.get(\"pctChange\"), symbol: r.get(\"symbol\")}\n    })\n\n    return gainers.slice(0,5);\n}\n\n\nexport const getTopMCap = async () => {\n    const TokenPrice = Moralis.Object.extend(\"Token1Day\")\n    const query = new Moralis.Query(TokenPrice);\n\n    query.select(\"marketCap\", \"id\", \"timeStamp\",\"exchange\", \"symbol\");\n    const currentDate = new Date();\n    const date = new Date(currentDate.getFullYear(), currentDate.getMonth(), currentDate.getDate() -2, 22, 0,0,0).getTime() / 1000;\n    // console.log(\"Checking prices greater than \",date);\n    query.greaterThanOrEqualTo(\"timeStamp\", date);\n    query.descending(\"marketCap\");\n    const results = await query.find();\n    const gainers = results.map((r)=>{\n        return {marketCap: r.get(\"marketCap\"), symbol: r.get(\"symbol\")}\n    })\n    const top5 = gainers.slice(0,5);\n    return top5.map((t:any)=> {\n        return{'marketCap':(t.marketCap/(10**9)).toFixed(3), symbol: t.symbol\n    }\n    });\n}\n\n\nexport const get24HourPercentageChange =  async (address:string | undefined) => {\n\n    const TokenPrice = Moralis.Object.extend(\"Token1Day\")\n    const query = new Moralis.Query(TokenPrice);\n\n    query.select(\"createdAt\",\"timeStamp\",\"exchange\", \"symbol\", \"pctChange\");\n\n    query.equalTo(\"address\", address);\n    query.descending(\"timeStamp\");\n    query.limit(5000);\n    const result = await query.find();\n    console.log(\"Result has timestamp: \", result[0]?.get(\"timeStamp\"));\n    return result[0]?.get(\"pctChange\").toFixed(2);\n\n}","import {VStack} from \"@chakra-ui/react\";\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faFileDownload} from \"@fortawesome/free-solid-svg-icons\";\nimport {ColorPalette} from \"../styles/color_palette\";\nimport React from \"react\";\n\n\nconst ExportIcon = (props: any) => {\n\n    return ( <VStack style={{justifyContent:'center'}}>\n        <FontAwesomeIcon icon={faFileDownload} size=\"lg\" style={{float:'right', color:ColorPalette.highlight}}/>\n        <span style={{fontSize:'0.6em'}}>Export data</span>\n    </VStack>)\n\n}\n\n\nexport default ExportIcon;","import React, {useEffect, useState} from 'react';\nimport {getTokenList, getTokenPrice} from \"../../services/tokenService\";\nimport {background, Table, Tbody, Td, Th, Thead, Tr} from \"@chakra-ui/react\";\nimport {useNavigate} from \"react-router-dom\";\nimport Title from \"./Title\";\n\nfunction List(props: any)  {\n\n    const [entityList, setEntityList] = useState<any>(0)\n\n    useEffect (()=> {\n        props.getter()\n            .then((entities : any)=>{\n                console.log(\"Entities: \", entities);\n                setEntityList(entities)\n            });\n    },[])\n\n\n    return (\n        <div>\n            {props.title && (<Title title={props.title}/>)}\n            {entityList.length>0 &&\n            <EntityList tableStyle={props.tableStyle} entityList={entityList} entityProps={props.entityProps} noHead={props.noHead}/>\n            }\n        </div>\n    );\n}\n\n\nfunction EntityList(props: any) {\n\n\n    const navigate = useNavigate();\n\n    const [selected, setSelected] = useState<number | null>(null);\n\n    const handleHover = (e: any, idx: number) => {\n        setSelected(idx);\n    }\n\n\n    return(<Table style={{...props.tableStyle}} variant='simple'>\n        {!props.noHead && (\n            <Thead>\n                <Tr>\n                    {props.entityProps.map((ep:any, idx:number)=> {\n                        return(<Th key={idx}>{ep.name}</Th>)\n                    })}\n                </Tr>\n            </Thead>\n        )}\n        <Tbody>\n            {props.entityList.map((entity: any, idx: number)=> {\n                return(<Tr key={idx} style={selected==idx?{backgroundColor:'#FFB6C1', borderRadius:\"10px\", cursor:'pointer'}:{}}\n                           onMouseEnter={(e)=> handleHover(e, idx)} onMouseLeave={()=> setSelected(null)} >\n                    {props.imageProp && <img src={entity[props.imageProp]}/>}\n\n                    {props.entityProps.map((ep:any,i:number)=> {\n                        return(<Th key={i}>{ep.postProcess?ep.postProcess(entity[ep.value]):entity[ep.value]}</Th>)\n                    })}\n                </Tr>)\n            })}\n        </Tbody>\n\n    </Table>)\n}\n\n\nexport default List;","import List from \"../genericComponents/List\";\nimport {ColorPalette} from \"../styles/color_palette\";\nimport {getTopGainers} from \"../../services/dashboardService\";\n\n\nexport function Gainers(props:any) {\n// ,borderWidth:1, borderStyle:'solid',borderColor:'grey', borderRadius:20\n    return(<div style={{...props.style}}>\n        <div style={{width:'100%', backgroundColor:ColorPalette.secondaryColor}}>\n        {/*<h3 style={{margin:10}}>Gainers</h3>*/}\n        </div>\n            <List title=\"Gainers\" getter={getTopGainers} entityProps={[{name:\"Symbol\",value:\"symbol\"},{name:\"% Change\", value: \"pctChange\", postProcess:(a:any)=>(a*100).toFixed(2)+'%'}]}/>\n\n\n    </div>)\n\n}","import {ColorPalette} from \"../styles/color_palette\";\nimport List from \"../genericComponents/List\";\nimport {getTopGainers, getTopLosers} from \"../../services/dashboardService\";\n\nexport function Losers(props:any) {\n\n    return(<div style={{...props.style}}>\n\n    <List title=\"Losers\" getter={getTopLosers} entityProps={[{name:\"Symbol\",value:\"symbol\"},{name:\"% Change\", value: \"pctChange\", postProcess:(a:any)=>(a*100).toFixed(2)+'%'}]}/>\n\n\n    </div>)\n\n}","\nimport React, {useEffect, useRef, useState} from \"react\";\nimport * as d3 from \"d3\";\nimport {ColorPalette} from \"../../styles/color_palette\";\nimport './pieChartStyles.css';\n\n\n\nconst PieChart = ({data}:any)=> {\n\n\n    useEffect(()=>{\n        buildPieChart2();\n\n    },[data])\n\n    const buildPieChart2 = () => {\n        var width = 250,\n            height = 250,\n            radius = Math.min(width, height) / 2;\n        var divNode = d3.select(\"body\").node();\n        var outerRadius = radius - 10,\n            innerRadius = radius - 80;\n\n        var color : any = d3.scaleOrdinal().range([ColorPalette.mainColor, ColorPalette.red, ColorPalette.secondaryColor, ColorPalette.highlight, ColorPalette.green]);//Constructs a new ordinal scale with an empty domain and the specified range. If a range is not specified, it defaults to the empty array; an ordinal scale always returns undefined until a non-empty range is defined.\n\n\n        //add svg with margin !important\n        //this is svg is actually group\n        var svg = d3.select(\"#diagram\").append(\"svg\")\n            .attr(\"width\",width)\n            .attr(\"height\",height)\n            .append(\"g\")  //add group to leave margin for axis\n            .attr(\"transform\",\"translate(\"+width/2+\",\"+height/2+\")\");\n\n\n        //the code above should be same\n        if(data === undefined)\n            return;\n        var dataset : any = data;\n\n        // //arc to draw the chart. pie to generate the data for chart from the input\n        // var donutWidth = 40;\n        // var arc : any = d3.arc().outerRadius(radius).innerRadius(radius-donutWidth);//to generate the chart\n        // var pie = d3.pie()\n        //     .value(function(d:any){return d.percentage;});//sort the value to show from the 12 0'clcok\n        //\n\n        var arc:any = d3.arc()\n            .outerRadius(radius - 10)\n            .innerRadius(radius - 60);\n\n        console.log(\"Arc: \", arc);\n\n        var pie = d3.pie()\n            .sort(null)\n            .value(function(d:any) { return d.percentage; });\n\n        d3.select(\"#chart\").append(\"div\")\n            .attr(\"id\",\"mainPie\")\n            .attr(\"class\",\"pieBox\");\n\n        var svg = d3.select(\"#mainPie\").append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n\n\n        var defs = svg.append(\"defs\");\n        var filter = defs.append(\"filter\")\n            .attr(\"id\", \"drop-shadow\")\n            .attr(\"height\",\"130%\");\n\n        filter.append(\"feGaussianBlur\")\n            .attr(\"in\",\"SourceAlpha\")\n            .attr(\"stdDeviation\", 3)\n            .attr(\"result\", \"blur\");\n\n        filter.append(\"feOffset\")\n            .attr(\"in\", \"blur\")\n            .attr(\"dx\", 3)\n            .attr(\"dy\", 3)\n            .attr(\"result\", \"offsetBlur\");\n        var feMerge = filter.append(\"feMerge\");\n\n        feMerge.append(\"feMergeNode\")\n            .attr(\"in\", \"offsetBlur\")\n        feMerge.append(\"feMergeNode\")\n            .attr(\"in\", \"SourceGraphic\");\n\n        var g = svg.selectAll(\".arc\")\n            .data(pie(data))\n            .enter().append(\"g\")\n            .attr(\"class\", \"arc\");\n\n\n        // Handling hovers\n        var paths = g.append(\"path\")\n            .attr(\"d\",arc)\n            // @ts-ignore\n            .style(\"fill\",function(d:any){return color(d.data);})\n            .on(\"mouseover\", function(d:any, i:any) {\n                console.log(\"Data is: \", d);\n                console.log(\"Index is: \", i);\n                d3.select(this)\n                    .attr(\"stroke\",\"#fff\")\n                    .attr(\"stroke-width\",\"2px\")\n                    .style(\"filter\", \"url(#drop-shadow)\");\n                d3.select(this)\n                    .transition()\n                    .duration(500)\n                    // .ease('elastic')\n                    .attr('transform',function(d:any){\n                        var dist = 1;\n                        d.midAngle = ((d.endAngle - d.startAngle)/2) + d.startAngle;\n                        var x = Math.sin(d.midAngle) * dist;\n                        var y = Math.cos(d.midAngle) * dist;\n                        return 'translate(' + x + ',' + y + ')';\n                    });\n\n\n                svg.append('circle')\n                    .attr('id','circle')\n                    .attr('fill','#42A5F5')\n                    .attr('r','62')\n\n                svg.append('text')\n                    .attr('id', 'circle-text')\n                    .style('fill', '#F2F2F2')\n                    .style(\"font-size\", \"20px\")\n                    .style(\"font-weight\", \"bold\")\n                    .attr(\"transform\", \"translate(0,\" + 20 + \")\")\n                    .attr(\"text-anchor\", \"middle\")\n                    .html(`${i.data.symbol} <br/> ${i.data.percentage}%`);\n\n\n            })\n            .on(\"mouseout\", function(d){\n                d3.select(this)\n                    .attr(\"stroke\",\"none\")\n                    .style(\"filter\",\"none\");\n                d3.select(this)\n                    .transition()\n                    .duration(500)\n                    // .ease('bounce')\n                    .attr('transform','translate(0,0)');\n\n                // d3.select(\"#mainTooltip\").style(\"display\", 'none');\n                d3.select('circle').remove();\n                d3.select('#circle-text').remove();\n                // d3.select('#circle').style(\"display\",\"hidden\");\n\n            });\n\n\n        //add legend to the donut chart\n\n        // var legendSize = 15;\n        // var legendSpacing = 2;\n        // var legend = svg.selectAll(\".legend\")\n        //     .data(color.domain())\n        //     .enter()\n        //     .append(\"g\")\n        //     .attr(\"transform\",function(d,i){\n        //         var legendH = color.domain().length*(legendSize+legendSpacing);//total height of legends\n        //         var legendY = i*(legendSize+legendSpacing) - legendH/2;//\n        //         var legendX = -legendSize;\n        //         return \"translate(\"+legendX+\",\"+legendY+\")\";\n        //     });\n        // legend.append(\"rect\")\n        //     .attr(\"width\",legendSize)\n        //     .attr(\"height\",legendSize)\n        //     .attr(\"fill\",color)\n        //     .attr(\"stroke\",color);\n        // legend.append(\"text\")\n        //     .text(function(d:any){return d[0];})\n        //     .attr('x', legendSize + legendSpacing)\n        //     .attr('y', legendSize - legendSpacing);\n\n        //add  tooltip to paths\n        var tooltip = d3.select(\"#diagram\").append(\"div\").attr(\"class\",\"tooltip\");\n        tooltip.append(\"div\").attr(\"class\",\"name\");\n        tooltip.append(\"div\").attr(\"class\",\"count\");\n        tooltip.append(\"div\").attr(\"class\",\"percentage\");\n\n\n        // svg.on(\"mouseover\",function(d:any){\n        //     var total = d3.sum(dataset,function(dd:any){return dd[1];});\n        //     console.log(\"d is: \", d);\n        //     var percent = Math.round(1000 * d.data[1] / total) / 10;\n        //     tooltip.select(\".name\").html(d.data[0]);\n        //     tooltip.select(\".count\").html(d.data[1]);\n        //     tooltip.select(\".percentage\").html(percent + '%');\n        //     tooltip.style(\"display\", \"block\");\n        // });\n        // paths.on(\"mouseout\",function(d){\n        //     tooltip.style(\"display\", \"none\");\n        // });\n\n\n    }\n\n\n    const buildPieChart = () => {\n        var data :any = [\n            {\n                \"str_lab\": \"Jon\",\n                \"num\": 100\n            },\n            {\n                \"str_lab\": \"Shaggydog\",\n                \"num\": 44\n            },\n            {\n                \"str_lab\": \"Ghost\",\n                \"num\": 215\n            },\n            {\n                \"str_lab\": \"Nymeria\",\n                \"num\": 385\n            },\n            {\n                \"str_lab\": \"Summer\",\n                \"num\": 141\n            },\n            {\n                \"str_lab\": \"Grey wind\",\n                \"num\": 340\n            }\n        ];\n\n        var width = 300,\n            height = 300,\n            radius = Math.min(width, height) / 2;\n        var divNode = d3.select(\"body\").node();\n        var outerRadius = radius - 10,\n            innerRadius = radius - 80;\n        var color = d3.scaleOrdinal()\n            .range([\"#2E7D32\",\"#53856D\",\"#FF7043\", \"#1FDA9A\", \"#28ABE3\", \"#DF514C\", \"#DAE9F7\"]);\n\n        var arc:any = d3.arc()\n            .outerRadius(radius - 10)\n            .innerRadius(radius - 80);\n\n        console.log(\"Arc: \", arc);\n\n        var pie = d3.pie()\n            .sort(null)\n            .value(function(d:any) { return d.num; });\n\n        d3.select(\"#chart\").append(\"div\")\n            .attr(\"id\",\"mainPie\")\n            .attr(\"class\",\"pieBox\");\n\n        var svg = d3.select(\"#mainPie\").append(\"svg\")\n            .attr(\"width\", width)\n            .attr(\"height\", height)\n            .append(\"g\")\n            .attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\n\n        var defs = svg.append(\"defs\");\n        var filter = defs.append(\"filter\")\n            .attr(\"id\", \"drop-shadow\")\n            .attr(\"height\",\"130%\");\n\n        filter.append(\"feGaussianBlur\")\n            .attr(\"in\",\"SourceAlpha\")\n            .attr(\"stdDeviation\", 3)\n            .attr(\"result\", \"blur\");\n\n        filter.append(\"feOffset\")\n            .attr(\"in\", \"blur\")\n            .attr(\"dx\", 3)\n            .attr(\"dy\", 3)\n            .attr(\"result\", \"offsetBlur\");\n        var feMerge = filter.append(\"feMerge\");\n\n        feMerge.append(\"feMergeNode\")\n            .attr(\"in\", \"offsetBlur\")\n        feMerge.append(\"feMergeNode\")\n            .attr(\"in\", \"SourceGraphic\");\n\n        var g = svg.selectAll(\".arc\")\n            .data(pie(data))\n            .enter().append(\"g\")\n            .attr(\"class\", \"arc\");\n\n        g.append(\"path\")\n            .attr(\"d\", arc)\n            .style(\"fill\", \"blue\")\n            .on(\"mousemove\", function(d) {\n                d3.select(this)\n                    .attr(\"stroke\",\"#fff\")\n                    .attr(\"stroke-width\",\"2px\")\n                    .style(\"filter\", \"url(#drop-shadow)\");\n                d3.select(this)\n                    .transition()\n                    .duration(500)\n                    // .ease('elastic')\n                    .attr('transform',function(d:any){\n                        var dist = 1;\n                        d.midAngle = ((d.endAngle - d.startAngle)/2) + d.startAngle;\n                        var x = Math.sin(d.midAngle) * dist;\n                        var y = Math.cos(d.midAngle) * dist;\n                        return 'translate(' + x + ',' + y + ')';\n                    });\n                var mousePos = d3.pointer(divNode);\n                d3.select(\"#mainTooltip\")\n                    .style(\"left\", mousePos[0] - 40 + \"px\")\n                    .style(\"top\", mousePos[1] - 70 + \"px\")\n                    .select(\"#value\")\n                    .attr(\"text-anchor\", \"middle\")\n                    // .html(d.data.str_lab + \"<br />\" + d.data.num);\n                console.log(\"d is: \", d);\n                d3.select(\"#mainTooltip\").classed(\"hidden\", false);\n            })\n            .on(\"mouseout\", function(d){\n                d3.select(this)\n                    .attr(\"stroke\",\"none\")\n                    .style(\"filter\",\"none\");\n                d3.select(this)\n                    .transition()\n                    .duration(500)\n                    // .ease('bounce')\n                    .attr('transform','translate(0,0)');\n\n                d3.select(\"#mainTooltip\").classed(\"hidden\", true);\n            });\n        var centerSvg = svg.append('circle')\n            .attr('fill','#42A5F5')\n            .attr('r','62');\n\n        svg.append('text')\n            .style('fill', '#F2F2F2')\n            .style(\"font-size\", \"64px\")\n            .style(\"font-weight\", \"bold\")\n            .attr(\"transform\", \"translate(0,\" + 20 + \")\")\n            .attr(\"text-anchor\", \"middle\")\n            .html(data.length.toString());\n\n\n    }\n\n    return(<>\n        <div id=\"chart\"></div>\n        <div id=\"mainTooltip\" className=\"hidden\">\n            <p><span id=\"value\"></span></p>\n        </div>\n\n\n    </>)\n\n}\n\nexport default PieChart;","import List from \"../genericComponents/List\";\nimport {ColorPalette} from \"../styles/color_palette\";\nimport {getTopMCap} from \"../../services/dashboardService\";\nimport {SetStateAction, useEffect, useState} from \"react\";\nimport PieChart from \"../charts/pieChart/PieChart\";\nimport {Grid, GridItem, HStack} from \"@chakra-ui/react\";\nimport Title from \"../genericComponents/Title\";\nimport BarRaceChart from \"../charts/barRaceChart/BarRaceChart\";\n\n\nexport function MarketCap(props: any) {\n\n    const [pieChartData, setPieChartData] = useState<any[]>([]);\n\n    useEffect(() => {\n\n        getTopMCap()\n            .then((allTokens) => {\n                const percentages: any = [];\n                console.log(\"All tokens: \", allTokens);\n                const totalMCap = allTokens.map(i=>parseFloat(i.marketCap)).reduce((a,b : any) => a + b,0)\n                console.log(\"Total marketcap = \", totalMCap);\n                allTokens.map((token)=>{\n                    percentages.push({\"symbol\": token.symbol, \"percentage\":(parseFloat(token.marketCap)/totalMCap*100).toFixed(0)})\n                })\n                setPieChartData(percentages);\n            })\n    },[])\n\n\n    return(<div style={{...props.style}}>\n        <Title title=\"Market Cap (Top 5)\"/>\n\n            <HStack spacing={\"5%\"}>\n                {pieChartData.length > 0 && (<PieChart data={pieChartData}/>)}\n                <List getter={getTopMCap} tableStyle={{width:300}}  entityProps={[{name:\"Symbol\",value:\"symbol\"},{name:\"M Cap (B$)\", value: \"marketCap\"}]}/>\n            </HStack>\n    </div>)\n\n}","import React, {useEffect, useRef, useState} from \"react\";\nimport * as d3 from \"d3\";\nimport {transition} from \"d3-transition\";\nimport {select, selectAll} from \"d3-selection\";\nimport {axisBottom, axisLeft} from \"d3\";\nimport {getTokenPriceHistoryDB} from \"../../../services/tokenService\";\nimport {ColorPalette} from \"../../styles/color_palette\";\n\n\nconst MiniChart = ({data, width, height,color}:any) => {\n\n    const svgRef = useRef<any>();\n\n    const setupData = (svg:any, line:any, options: any) => {\n        // Setup data\n        svg\n            .append('path')\n            .datum(data.map((r:any)=>r.price))\n            .attr('id', 'line')\n            .attr('stroke', options.strokeColor?options.strokeColor:'black')\n            .attr('stroke-width', 2)\n            .attr('fill', 'none')\n            .attr('d', line);\n    }\n\n    const setupLinearGraph = () => {\n\n        // Setup svg\n        if(data == undefined) {\n            return;\n        }\n\n        const svg = d3.select(svgRef.current)\n            .attr('width', width)\n            .attr('height', height)\n            .style('background', 'white')\n            .style('margin-left', '50')\n            .style('overflow', 'visible');\n\n        // Setup scaling\n        const xScale: any = d3.scaleLinear()\n            .domain([0, data.length]) // x ticks\n            .range([0, width]) // x width\n\n\n\n        const yMin = Math.round(data.map((r:any)=>r.price).reduce((a:number,b:number) => Math.min(a,b)));\n        const yMax = Math.ceil(data.map((r:any)=>r.price).reduce((a:number,b: number)=> Math.max(a,b)));\n        console.log(\"Y max is: \", yMax);\n        console.log(\"Y min is: \", yMin);\n        const yScale: any = d3.scaleLinear()\n            .domain([yMin, yMax])\n            .range([height, 0])\n\n        // Setting up line\n        const line = d3.line()\n            .x((d, i)=> xScale(i))\n            .y(yScale)\n            .curve(d3.curveLinear)\n\n\n        const dataOptions = {strokeColor: color}\n        setupData(svg,line, dataOptions);\n        return line;\n    }\n\n\n    useEffect(()=>{\n        console.log(\"COLOR is: \", color);\n\n                setupLinearGraph();\n    },[])\n\n\n    return (\n            <svg style={{zIndex:-1}} ref={svgRef}>\n            </svg>\n\n    )\n\n};\n\nexport default MiniChart;","import MiniChart from \"./MiniChart\";\nimport {useEffect, useState} from \"react\";\nimport {getTokenByAddress, getTokenPriceHistoryDB} from \"../../../services/tokenService\";\nimport {Box, HStack} from \"@chakra-ui/react\";\nimport AvadaSpinner from \"../../genericComponents/AvadaSpinner\";\nimport {ColorPalette} from \"../../styles/color_palette\";\nimport {useNavigate} from \"react-router-dom\";\nimport {get24HourPercentageChange} from \"../../../services/dashboardService\";\n\n\nexport default function     MiniChartContainer ({address, width, height}:any) {\n\n    const navigate = useNavigate();\n\n\n    const [data, setData] = useState<any>(null);\n\n    const [tokenInfo, setTokenInfo] = useState<any>(null);\n    const [isLoading, setIsLoading] = useState<boolean>(false);\n\n    const [borderColor, setBorderColor] = useState('gray.200')\n\n    const [pctChange, setPctChange] = useState(0);\n\n    const [plotColor, setPlotColor] = useState(\"\");\n\n    useEffect(()=>{\n        setIsLoading(true);\n        // get24HourPercentageChange(address)\n        //     .then((pct)=> {\n        //         setPctChange(pct)\n        //         setPlotColor(pct>0?ColorPalette.green:ColorPalette.red)\n        //     });\n\n\n        getTokenByAddress(address)\n            .then((t:any)=>setTokenInfo(t));\n\n        getTokenPriceHistoryDB(address, \"Token1Hour\", 1)\n            .then((d)=> {\n                setData(d.slice(d.length -24, d.length -1));\n                setIsLoading(false);\n            })\n\n    },[])\n\n\n    useEffect(()=>{\n        if(data) {\n\n            setPctChange((( data[data.length -1].price - data[0].price) / data[0].price))\n            console.log(\"Pctgchange is: \", pctChange);\n            setPlotColor(pctChange>0?ColorPalette.green:ColorPalette.red)\n        }\n    },[data])\n\n\n    const getPercentage = () => {\n\n        // Change this to be last 24 hour percentage\n        return parseFloat((pctChange * 100).toFixed(2));\n    }\n\n    return (<div onMouseEnter={()=>setBorderColor(pctChange > 0 ? ColorPalette.green : ColorPalette.red)} onMouseLeave={()=>setBorderColor('gray.200')}>\n\n            {isLoading && (<Box border=\"1px\" borderColor={borderColor} borderRadius={30} padding={5} >\n                <AvadaSpinner/>\n            </Box>)}\n\n        {(data && plotColor) && (\n            <Box border=\"2px\" borderColor={borderColor} borderRadius={30} padding={5} onClick={()=>navigate(`/token/${address}`)}>\n                {tokenInfo && (<><HStack>\n                        <img style={{width:30, height:30}} src={tokenInfo.logoUrl}/>\n                        <span>{tokenInfo.symbol}</span>\n                        {pctChange!==0 && (<span style={{marginRight: 30, color: (getPercentage() < 0)? ColorPalette.red: ColorPalette.green}}>{getPercentage() + '% (24h)'}</span>)}\n                    </HStack>\n                        {data[data.length-1] && <span style={{margin:40}}>{'$ ' + data[data.length-1].price.toFixed(2)}</span>}\n\n                    </>\n                )}\n                {(data.length >0 && plotColor) && <MiniChart data={data}  width={width} height={height} color={plotColor}/>}\n\n\n            </Box>\n        )}\n        </div>\n    )\n\n}","import {Gainers} from \"./Gainers\";\nimport Title from \"../genericComponents/Title\";\nimport {Losers} from \"./Losers\";\nimport {useEffect, useState} from \"react\";\nimport {MarketCap} from \"./MarketCap\";\nimport {Box, Grid, HStack, VStack} from \"@chakra-ui/react\";\nimport MiniChart from \"../charts/miniChart/MiniChart\";\nimport MiniChartContainer from \"../charts/miniChart/MiniChartContainer\";\nimport PieChart from \"../charts/pieChart/PieChart\";\nimport {getTopMCap} from \"../../services/dashboardService\";\nimport BarRaceChart from \"../charts/barRaceChart/BarRaceChart\"\n\n\nexport function Dashboard(props:any) {\n\n\n    return(<div style={{...props.style}}>\n        <Title title=\"Dashboard\" hasInfo/>\n\n        <HStack  spacing={10}>\n\n            {/*<BarRaceChart/>*/}\n                <MiniChartContainer address=\"0x50b7545627a5162f82a992c33b87adc75187b218\"   width={300} height={150}/>\n                <MiniChartContainer address=\"0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab\"   width={300} height={150}/>\n                <MiniChartContainer address=\"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7\"  width={300} height={150}/>\n                <MiniChartContainer address=\"0xb54f16fb19478766a268f172c9480f8da1a7c9c3\"  width={300} height={150}/>\n        </HStack>\n\n        <HStack style={{marginTop:50}}>\n            <MarketCap style={{alignItems:'center', marginRight:50}}/>\n            <Gainers style={{width:400,  alignItems:'center', marginLeft:50}}/>\n            <Losers style={{width:400,  alignItems:'center', margin:20}}/>\n        </HStack>\n    </div>)\n}","import {Flex, Icon, Link, Menu, MenuButton, MenuList, Text} from \"@chakra-ui/react\";\nimport {Link as ReactLink} from 'react-router-dom';\nimport dashboard from \"../../images/dashboard.png\";\nimport {NavHoverBox} from \"./NavHoverBox\";\nimport React, {useState} from \"react\";\nimport {ColorPalette} from \"../styles/color_palette\";\nimport {deletePopupMessage, renderPopupMessage} from \"./PopupMessage\";\nimport  { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faCheckSquare, faInfoCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport function NavItem({navSize, icon, title, route, active, style,setActiveMenu, idx, status}:any) {\n\n    const [hoverOject, setHoverObject] = useState<any>(null);\n    const [popupTimerOn, setPopupTimerOn] = useState<boolean>(true);\n    const [popupActivated, setPopupActivated] = useState(false);\n    const [showInfo, setShowInfo] = useState<boolean>(false);\n\n\n\n    // @ts-ignore\n    // @ts-ignore\n    return(\n        <Flex\n            mt={30}\n            flexDir=\"column\"\n            w=\"100%\"\n            alignItems={navSize==\"small\"? \"center\" : \"flex-start\"}\n            backgroundColor={style.backgroundColor}\n            opacity={status =='active'? 1: 0.6}\n        >\n            <Menu placement =\"right\">\n                <Link\n                    as={ReactLink}\n                    to={route}\n                    p={3}\n                    borderRadius={8}\n                    _hover={status == 'active' ? {backgroundColor:ColorPalette.highlight}:{backgroundColor:ColorPalette.mainColor}}\n                    w={navSize == 'large'?'100%':''}\n                    onClick={()=>{status=='active'?setActiveMenu(idx):console.log(\"Inactive\")}}\n\n                >\n\n                    <MenuButton w=\"100%\" ml={3}>\n                        <Flex style={{alignItems:'center'}}>\n                            {/*<Icon as={icon} fontSize=\"xl\" color={active ? '#FFB6C1' : \"gray.500\"}/>*/}\n                            <img style={{width:40, height:40}} src={icon}/>\n                            <Text color={ColorPalette.navFontColor} fontSize='xl' ml={5} display={navSize=='small'?'none':'flex'}>{title}</Text>\n                        </Flex>\n                    </MenuButton>\n\n\n                </Link>\n\n            </Menu>\n\n\n\n        </Flex>\n    )\n\n\n}","export default __webpack_public_path__ + \"static/media/tokens.01297ec6.png\";","export default __webpack_public_path__ + \"static/media/coins.985572b0.png\";","export default __webpack_public_path__ + \"static/media/pools.ebbbad37.png\";","export default __webpack_public_path__ + \"static/media/charts.4404929f.png\";","export default __webpack_public_path__ + \"static/media/whales.26c92c8d.png\";","export default __webpack_public_path__ + \"static/media/mempools.6a0f1fd6.png\";","export default __webpack_public_path__ + \"static/media/bridges.58d7d2cb.png\";","export default __webpack_public_path__ + \"static/media/logo_2.5a72d8ab.png\";","import {Avatar, Divider, Flex, Grid, GridItem, Heading, HStack, IconButton, Text} from \"@chakra-ui/react\";\nimport {FiMenu} from \"react-icons/all\";\nimport React, {useEffect, useState} from \"react\";\nimport {NavItem} from \"./NavItem\";\nimport dashboard from '../../images/dashboard.png';\nimport tokens from '../../images/tokens.png';\nimport coins from '../../images/coins.png';\nimport pools from '../../images/pools.png';\nimport charts from '../../images/charts.png';\nimport whales from '../../images/whales.png';\nimport mempools from '../../images/mempools.png';\nimport bridges from '../../images/bridges.png';\nimport logo_1 from '../../images/logo_1.png';\nimport logo_2 from '../../images/logo_2.png';\n\nimport {ColorPalette} from \"../styles/color_palette\";\n\n\nconst Menus = [\n    {title:\"Dashboard\" ,route:\"/\", icon:charts, status: 'active'},\n    {title:\"Tokens\" ,route:\"/tokens\", icon:tokens, status: 'active'},\n    {title:\"Multiple Tokens\" ,route:\"/multiTokens\", icon:coins, status: 'active'},\n    {title:\"Pools\" ,route:\"/pools\", icon:pools, status: 'active'},\n    {title:\"Whales\", route:\"/whales\", icon:whales, status: 'inactive'},\n    {title:\"MemPools\", route:\"/mempools\", icon:mempools, status: 'inactive'},\n    {title:\"bridges\", route:\"/bridges\", icon:bridges, status: 'inactive'},\n\n\n]\n\n\nexport function Sidebar({navSize, setNavSize}:any) {\n\n    const [activeMenu, setActiveMenu] = useState(0);\n\n\n    useEffect(()=>{\n        console.log(\"Active menu is: \", activeMenu);\n    }, [activeMenu])\n\n\n    return(\n        <Flex\n            // pos=\"absolute\"\n            display=\"flex\"\n            h=\"100%\"\n            marginTop=\"0\"\n            // boxShadow=\"0 4px 12px 0 rgba(0,0,0,0.05)\"\n            borderRadius={navSize=='small'?\"0px 5px 5px 0px\":\"0px 5px 5px 0px\"}\n            backgroundColor={ColorPalette.mainColor}\n            w={navSize=='small'?\"100px\":\"250px\"}\n            flexDir=\"column\"\n            justifyContent=\"space-between\"\n            zIndex={999}\n        >\n\n            <Flex\n                // p=\"5%\"\n                flexDir=\"column\"\n                alignItems=\"flex-start\"\n                as=\"nav\"\n            >\n              <HStack spacing='8px' margin={5}>\n                  {/*<Text display={ navSize=='large'?'flex':'none'} fontWeight={'bold'} fontSize='2xl' color={ColorPalette.navFontColor} ml={10} mt={5}>AVALYTICS</Text>*/}\n                  <div style={{width:220, height:60, paddingTop:20, paddingRight:20}} >\n                    <img src={logo_2}/>\n                  </div>\n                  {/*  <IconButton*/}\n                {/*    aria-label='Search database'*/}\n                {/*    background=\"none\"*/}\n                {/*    color=\"white\"*/}\n                {/*    // mt={5}*/}\n                {/*    _hover={{background:\"none\"}}*/}\n                {/*    icon={<FiMenu/>}*/}\n                {/*    onClick={()=>{*/}\n                {/*        navSize=='large'?setNavSize('small'):setNavSize('large')*/}\n                {/*    }}*/}\n                {/*/>*/}\n\n              </HStack>\n\n                {Menus.map((m:any, idx: number) => {\n                    return(<NavItem idx={idx} style={activeMenu==idx?{borderColor:ColorPalette.red, borderStyle:'solid', borderWidth:1, borderRadius: 5}:{}}\n                                    setActiveMenu={setActiveMenu}\n                                    navSize={navSize}\n                                    title={m.title}\n                                    route={m.route}\n                                    icon={m.icon}\n                                    status = {m.status}/>)\n                })}\n            </Flex>\n\n\n            <Flex\n                p=\"5%\"\n                flexDir=\"column\"\n                w=\"100%\"\n                alignItems=\"flex-start\"\n                mb={4}\n            >\n                <Divider display={navSize=='small'? \"none\":\"flex\"}/>\n                <Flex mt={4} align=\"center\">\n                    <Avatar size=\"sm\"/>\n                    <Flex flexDir=\"column\" ml={4} display={navSize=='small'? \"none\":\"flex\"}>\n                        <Heading as=\"h3\" size=\"sm\">Renato</Heading>\n                        <Text color=\"gray\">Admin</Text>\n                    </Flex>\n                </Flex>\n\n            </Flex>\n\n        </Flex>\n    )\n\n}","import * as d3 from \"d3\";\nimport {useEffect, useState} from \"react\";\nimport {Checkbox, HStack, Stack} from \"@chakra-ui/react\";\nimport {dateFromTimeStamp} from \"../../../utils/dateUtils\";\nimport {ColorPalette} from \"../../styles/color_palette\";\nimport {transition} from \"d3-transition\";\nimport {select} from \"d3-selection\";\n\n\nexport function HeatMap(props) {\n\n    const {data, tokensList} = props;\n\n\n    const [width, setWidth] = useState(0);\n    const [height, setHeight] = useState(0);\n    const [svg, setSvg] = useState();\n\n    // useEffect(()=>{\n    //     buildHeatMap();\n    // },[])\n\n\n    useEffect(()=>{\n        console.log(\"Updating with data points: \", data.length);\n\n        if(d3.selectAll(\"svg\")) {\n            d3.selectAll(\"svg\").remove();\n            d3.selectAll(\".tooltip\").remove();\n        }\n\n        const s = buildHeatMap();\n        setSvg(s);\n\n    },[data])\n\n\n    const buildHeatMap = () => {\n        const margin = {top: 20, right: 25, bottom: 20, left: 40},\n            width = 1000 - margin.left - margin.right,\n            height = 700 - margin.top - margin.bottom;\n\n        const svg = d3.select(\"#my_dataviz\")\n            .append(\"svg\")\n            .attr(\"width\", width + margin.left + margin.right)\n            .attr(\"height\", height + margin.top + margin.bottom)\n            .append(\"g\")\n            .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\n//Read the data\n\n\n        // Labels of row and columns -> unique identifier of the column called 'group' and 'variable'\n        const myGroups = Array.from(new Set(data.map(d => d.timestamp)))\n        const myVars = Array.from(new Set(data.map(d => d.symbol)))\n\n        // Build X scales and axis:\n        const x = d3.scaleBand()\n            .range([ 0, width ])\n            .domain(myGroups)\n            .padding(0.05);\n\n        // Build Y scales and axis:\n        const y = d3.scaleBand()\n            .range([ height, 0 ])\n            .domain(myVars)\n            .padding(0.05);\n\n        svg.append(\"g\")\n            .style(\"font-size\", 15)\n            .call(d3.axisLeft(y).tickSize(0))\n            .select(\".domain\").remove()\n\n        // Build color scale\n        const pctgColor = d3.scaleSequential()\n            .interpolator(d3.interpolate(ColorPalette.red,ColorPalette.green))\n            .domain([-0.1,0.1])\n\n        // create a tooltip\n        const tooltip = d3.select(\"#my_dataviz\")\n            .append(\"div\")\n            .style(\"opacity\", 0)\n            .attr(\"class\", \"tooltip\")\n            .style(\"background-color\", \"white\")\n            .style(\"border\", \"solid\")\n            .style(\"border-width\", \"2px\")\n            .style(\"border-radius\", \"5px\")\n            .style(\"padding\", \"5px\")\n\n        // Three function that change the tooltip when user hover / move / leave a cell\n        const mouseover = function(event,d) {\n            tooltip\n                .style(\"opacity\", 1)\n            d3.select(this)\n                .style(\"stroke\", \"black\")\n                .style(\"opacity\", 1)\n        }\n        const mousemove = function(event,d) {\n            tooltip\n                .html(d.symbol + ' changed ' +(d.pctChange * 100).toFixed(2)  + '% @ ' + dateFromTimeStamp(d.timestamp))\n                .style(\"position\", \"absolute\")\n                .style(\"left\", (event.clientX + 10) + \"px\")\n                .style(\"top\", (event.clientY - 60) + \"px\")\n\n        }\n        const mouseleave = function(event,d) {\n\n            tooltip\n                .style(\"opacity\", 0)\n            d3.select(this)\n                .style(\"stroke\", \"none\")\n                .style(\"opacity\", 0.8)\n        }\n\n        // add the squares\n        svg.selectAll()\n            .data(data, function(d) {return d.timestamp+':'+d.symbol;})\n            .join(\"rect\")\n            .attr(\"x\", function(d) { return x(d.timestamp) })\n            .attr(\"y\", function(d) { return y(d.symbol) })\n            .attr(\"rx\", 4)\n            .attr(\"ry\", 4)\n            .attr(\"width\", x.bandwidth() )\n            .attr(\"height\", y.bandwidth() )\n            .style(\"fill\", function(d) {\n                return pctgColor(d.pctChange);\n            })\n\n            .style(\"stroke-width\", 4)\n            .style(\"stroke\", \"none\")\n            .style(\"opacity\", 0.8)\n            .on(\"mouseover\", mouseover)\n            .on(\"mousemove\", mousemove)\n            .on(\"mouseleave\", mouseleave)\n\n        return svg;\n\n    }\n\n\n\n\n\n    return (<>\n\n        <div id=\"my_dataviz\" style={{width: 1000, height: 800}}/>\n\n    </>)\n\n\n}","import React from 'react';\nimport './BarRaceChart.css';\n\nfunction BarRaceChart() {\n\n\treturn (\n\t\t<div className='barRaceChart'>\n\t\t<iframe id='iframeId' src='https://flo.uri.sh/visualisation/8380876/embed' title='Interactive or visual content' className='flourish-embed-iframe' frameBorder='0' scrolling='no' sandbox='allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation'></iframe>\n\t\t<div id='divId'>\n\t\t\t{/*<a id='aId' className='flourish-credit' href='https://public.flourish.studio/visualisation/8380876/?utm_source=embed&utm_campaign=visualisation/8380876' target='_top'>*/}\n\t\t\t{/*\t<img alt='Made with Flourish' src='https://public.flourish.studio/resources/made_with_flourish.svg' /> */}\n\t\t\t{/*</a>*/}\n\t\t</div>\n\t\t</div>\n\n\t)\n}\n\nexport default BarRaceChart;\n","import {HeatMap} from \"./charts/heatmap/HeatMap\";\nimport React, {useEffect, useState} from \"react\";\nimport {fetchTokensForHeatMap, getTokenList, getTokenPriceHistoryDB} from \"../services/tokenService\";\nimport {\n    Avatar,\n    Flex,\n    HStack,\n    RangeSlider, RangeSliderFilledTrack, RangeSliderThumb, RangeSliderTrack,\n    Select,\n    Tab,\n    TabList,\n    TabPanel,\n    TabPanels,\n    Tabs,\n    VStack\n} from \"@chakra-ui/react\";\nimport AvadaSpinner from \"./genericComponents/AvadaSpinner\";\nimport {ColorPalette} from \"./styles/color_palette\";\nimport Title from \"./genericComponents/Title\";\nimport { Checkbox, CheckboxGroup } from '@chakra-ui/react'\nimport BarRaceChart from \"./charts/barRaceChart/BarRaceChart\";\nimport {dateFromTimeStamp} from \"../utils/dateUtils\";\n\nexport function MultipleTokens(props:any) {\n\n    const [tokenList, setTokenList] = useState<any[]>([]);\n    const [sliderStep, setSliderStep] = useState<number>(24 * 60 * 60);\n\n    const [tokenPrices, setTokenPrices] = useState<any[]>([]);\n    const [isLoading, setIsLoading] = useState(false);\n    const [initialOffset, setInitialOffset] = useState((Date.now() - 30*24*60*60*1000)/1000); // 30 days in the past in seconds\n    const [startDate, setStartDate] = useState<any>(dateFromTimeStamp(initialOffset));\n    const [endDate, setEndDate] = useState<any>(dateFromTimeStamp(Date.now()/1000));\n    const [endOffset, setEndOffset] = useState(Math.round(Date.now() / 1000));\n\n    const [activeTokens, setActiveTokens] = useState<any>([\"WBTC.e\", \"WETH.e\", \"WAVAX.e\", \"LINK.e\", \"TIME\", \"JOE\", \"AAVE.e\"]);\n\n\n    const fetchPctChanges = () => {\n        setIsLoading(true);\n        fetchTokensForHeatMap(\"Token1Day\", initialOffset, endOffset, activeTokens)\n            .then((tp)=>{\n                setTokenPrices(tp.filter((t)=>t.symbol!=\"SUSHI.e\").sort((a,b)=>{return(a.symbol>b.symbol?-1:1)}))\n                setIsLoading(false);\n                console.log(\"Token prices: \", tokenPrices);\n            });\n    }\n\n\n    useEffect(()=>{\n        getTokenList()\n            .then(tl => setTokenList(tl))\n        setIsLoading(true);\n        fetchPctChanges();\n    },[])\n\n\n\n    const handleCheckBoxChange = (e: any, idx: number) => {\n        const toAdd = e.target.checked;\n        if(toAdd) {\n            activeTokens.push(tokenList[idx].symbol);\n            setIsLoading(true);\n            fetchPctChanges();\n        } else {\n            const idxToRemove = activeTokens.indexOf(tokenList[idx].symbol);\n            activeTokens.splice(idxToRemove,1);\n            const currentPrices = tokenPrices;\n            setTokenPrices(currentPrices.filter((tp)=>tp.symbol!=tokenList[idx].symbol));\n            // tokenPrices;\n        }\n    }\n\n    const handleSelectAll = (e:any) => {\n        console.log(\"After handleSelect: \", e.target.checked);\n        if(e.target.checked) {\n            setActiveTokens(tokenList.map((t)=>t.symbol));\n            fetchPctChanges();\n        } else {\n            setActiveTokens([\"WBTC.e\", \"WETH.e\", \"WAVAX.e\", \"LINK.e\", \"TIME\", \"JOE\", \"AAVE.e\"])\n            fetchPctChanges();\n        }\n    }\n\n    const onDateDrag = (date: any) => {\n        setStartDate(dateFromTimeStamp(date[0]))\n        setEndDate(dateFromTimeStamp(date[1]))\n    }\n\n    const onChangeDate = (date:any) => {\n        setInitialOffset(date[0]);\n        setEndOffset(date[1]);\n        console.log(\"Fetch data again\");\n\n    }\n\n    useEffect(()=> {\n        fetchPctChanges();\n    },[initialOffset, endOffset])\n\n\n    const checkActiveTokens = (t:any) => {\n        return activeTokens.includes(t.symbol)\n    }\n\n\n\n    return(\n        <div>\n\n            <div style={{...props.style}}>\n                <Title title=\"Multiple Token\" hasInfo></Title>\n\n                <Tabs variant='enclosed'>\n                    <TabList>\n                        <Tab>Percentage Change</Tab>\n                        <Tab>Correlation</Tab>\n                        <Tab>Market Cap</Tab>\n                    </TabList>\n                    <TabPanels>\n                        <TabPanel>\n\n                            {tokenPrices.length && (<HStack style={{height:'100%'}}>\n                                {tokenList.length > 0 && (<div style={{marginLeft:30}}>\n                                    <HeatMap tokensList={tokenList} data={tokenPrices}/>\n                                </div>)}\n                                {tokenList.length == 0 && (<div><AvadaSpinner/></div>)}\n\n                                {tokenList && <div style={{height:400,borderColor:ColorPalette.thirdColor, borderWidth:1, borderRadius: 20, padding:20}}>\n                                    <div>Tokens</div>\n                                    {tokenList.map((t:any, idx: number) => <Checkbox style={{margin:5}} defaultChecked={checkActiveTokens(t)} onChange={(e)=>handleCheckBoxChange(e, idx)}>{t.symbol}</Checkbox>)}\n                                    <Checkbox style={{margin:5}} defaultChecked={false} onChange={(e)=>handleSelectAll(e)}>Select All</Checkbox>\n                                    {isLoading && <AvadaSpinner style={{marginLeft:'50%', marginTop:'10%'}} message={\"Updating chart...\"}/>}\n                                    {!isLoading && (\n                                        <div style={{borderWidth:1, borderStyle:'solid', marginTop:60, borderRadius: 20, padding:20}}>\n                                            <HStack>\n                                                <div>\n                                                    <span>Start date: </span>\n                                                    <span>{startDate}</span>\n                                                </div>\n                                                <div> / </div>\n                                                <div>\n                                                    <span>End date: </span>\n                                                    <span>{endDate}</span>\n                                                </div>\n                                            </HStack>\n                                            <RangeSlider onChange={(e)=> onDateDrag(e)}\n                                                         onChangeEnd={(e)=>onChangeDate(e)}\n                                                         defaultValue={[initialOffset, endOffset]}\n                                                         min={1629504000} max={Math.round(Date.now() / 1000)}\n                                                         step={sliderStep} minStepsBetweenThumbs={10}\n                                            >\n                                                <RangeSliderTrack bg={ColorPalette.thirdColor}>\n                                                    <RangeSliderFilledTrack bg={ColorPalette.thirdColor} />\n                                                </RangeSliderTrack>\n                                                <RangeSliderThumb boxSize={6} index={0} />\n                                                <RangeSliderThumb boxSize={6} index={1} />\n                                            </RangeSlider>\n                                        </div>\n                                    )}\n\n                                </div>}\n                            </HStack>)}\n\n                            {isLoading && <AvadaSpinner style={{width:'100%', height: \"100%\", marginTop:100, marginLeft:500}} message={`Loading price history`}/>}\n\n                        </TabPanel>\n                        <TabPanel>\n                            <p>Correlation!</p>\n                        </TabPanel>\n                        <TabPanel>\n                            <BarRaceChart />\n                        </TabPanel>\n                    </TabPanels>\n                </Tabs>\n\n                </div>\n        </div>\n\n    )\n}","import * as d3 from \"d3\";\nimport {useEffect, useState} from \"react\";\n\n\n\nexport default function SteamGraph(props) {\n\n    const [data, setData] = useState([]);\n\n    useEffect(()=> {\n        console.log(\"Initialized!!\");\n        console.log(\"Received data: \", props.data);\n        if(d3.selectAll(\"svg\")) {\n            d3.selectAll(\"svg\").remove();\n            d3.selectAll(\".tooltip\").remove();\n        }\n        setData(props.data);\n        buildChart(props.data);\n\n    },[props.data])\n\n\n    const buildChart=(chartData)=>{\n        var margin = {top: 20, right: 30, bottom: 0, left: 10},\n        width = 1300 - margin.left - margin.right,\n        height = 500 - margin.top - margin.bottom;\n\n// append the svg object to the body of the page\n    var svg = d3.select(\"#steam_graph\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n            \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n// Parse the Data\n\n    console.log(\"Data is: \", chartData);\n    // ,\"tvl0\",\"tvl1\",\n    // List of groups = header of the csv files\n    var keys = props.keys;\n    console.log(\"Updated keys to: \", keys);\n\n    // Add X axis\n    var x = d3.scaleLinear()\n        .domain(d3.extent(chartData, function(d) { return d.timestamp; }))\n        .range([ 0, width ]);\n\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + height*0.8 + \")\")\n        .call(d3.axisBottom(x).tickSize(-height*.7).tickValues([chartData[0].timestamp, chartData[chartData.length -1 ].timestamp]))\n        .select(\".domain\").remove()\n    // Customization\n    svg.selectAll(\".tick line\").attr(\"stroke\", \"#b8b8b8\")\n\n    // Add X axis label:\n    svg.append(\"text\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"x\", width)\n        .attr(\"y\", height-30 )\n        .text(\"Time (year)\");\n\n\n\n    // Add Y axis\n    var y = d3.scaleLinear()\n        .domain([-10000000, 10000000])\n        .range([ height, 0 ]);\n\n    svg.append(\"g\")\n        .attr(\"transform\", \"translate(0,\" + width*0.8 + \")\")\n        .call(d3.axisRight(y).tickSize(-width*.7).tickValues([chartData[0].reserve0, chartData[chartData.length -1 ].reserve0]))\n        .select(\".domain\").remove()\n\n    // color palette\n    var color = d3.scaleOrdinal()\n        .domain(keys)\n        .range(d3.schemeDark2);\n\n    //stack the data?\n    var stackedData = d3.stack()\n        .offset(d3.stackOffsetSilhouette)\n        .keys(keys)\n        (chartData)\n\n    // create a tooltip\n    var Tooltip = svg\n        .append(\"text\")\n        .attr(\"x\", 0)\n        .attr(\"y\", 0)\n        .style(\"opacity\", 0)\n        .style(\"font-size\", 17)\n\n\n        // const tooltip = d3.select(\"#steam_graph\")\n        //     .append(\"div\")\n        //     .style(\"opacity\", 0)\n        //     .attr(\"class\", \"tooltip\")\n        //     .style(\"background-color\", \"white\")\n        //     .style(\"border\", \"solid\")\n        //     .style(\"border-width\", \"2px\")\n        //     .style(\"border-radius\", \"5px\")\n        //     .style(\"padding\", \"5px\")\n\n\n\n    // Three function that change the tooltip when user hover / move / leave a cell\n    var mouseover = function(d) {\n        console.log(\"Mouse over: \", d.target.__data__.key);\n        Tooltip.style(\"opacity\", 1)\n        d3.selectAll(\".myArea\").style(\"opacity\", .2)\n        d3.select(this)\n            .style(\"stroke\", \"black\")\n            .style(\"opacity\", 1)\n    }\n\n    var mousemove = function(d,i) {\n        let grp = d.target.__data__.key\n        Tooltip.text(grp)\n\n\n\n\n    }\n    var mouseleave = function(d) {\n        Tooltip.style(\"opacity\", 0)\n        d3.selectAll(\".myArea\").style(\"opacity\", 1).style(\"stroke\", \"none\")\n    }\n\n    // Area generator\n    var area = d3.area()\n        .x(function(d) { return x(d.data.timestamp); })\n        .y0(function(d) { return y(d[0]); })\n        .y1(function(d) { return y(d[1]); })\n\n    // Show the areas\n    svg\n        .selectAll(\"steam_graph\")\n        .data(stackedData)\n        .enter()\n        .append(\"path\")\n        .attr(\"class\", \"myArea\")\n        .style(\"fill\", function(d) {return color(d.key); })\n        .attr(\"d\", area)\n        .on(\"mouseover\", mouseover)\n        .on(\"mousemove\", mousemove)\n        .on(\"mouseleave\", mouseleave)\n\n\n}\n\n    return (<><div id=\"steam_graph\"/></>)\n\n}","import Moralis from \"moralis\";\n\n\nexport const getDexList = async () : Promise<any[]> => {\n\n        const DEX = Moralis.Object.extend(\"Dex\")\n        const query = new Moralis.Query(DEX);\n        query.select(\"name\", \"id\");\n        const results = await query.find();\n        const dexList = results.map((r)=>{\n            // const dex = r;\n            return {label:r.get(\"name\"),address: r.get(\"address\"),erc20: r.get(\"erc20address\")}\n        });\n        console.log(\"Got results: \", dexList);\n\n        // console.log(\"Name is: \", dexes[0].get(\"name\"))\n        return dexList;\n    }\n\n\nexport const getPoolList = async () : Promise<any[]> => {\n    const POOL = Moralis.Object.extend(\"DexTokenPairControl\")\n    const query = new Moralis.Query(POOL);\n    query.select(\"dexName\", \"symbol0\",\"symbol1\",\"pairAddress\");\n    const results = await query.find();\n    const poolList = results.map((r)=>{\n        // const dex = r;\n        return {name:r.get(\"dexName\"),token0: r.get(\"symbol0\"),token1: r.get(\"symbol1\"), pairAddress: r.get('pairAddress')}\n    });\n    console.log(\"Got results: \", poolList);\n\n    // console.log(\"Name is: \", dexes[0].get(\"name\"))\n    return poolList;\n\n}\n\n\nexport const getInfoForPools = async (date?: any) => {\n\n    const PoolInfo = Moralis.Object.extend(\"DexTokenPairLiquidity\");\n    const query = new Moralis.Query(PoolInfo);\n    query.select(\"dexName\", \"symbol0\",\"symbol1\",\"reserve0\",\"reserve1\",\"tvl0\",\"tvl1\",\"timeStamp\");\n    if(date) {\n        query.greaterThan(\"timeStamp\", date);\n    }\n    query.limit(5000);\n    query.ascending(\"timeStamp\");\n    const results = await query.find();\n    const processedData = [];\n    const poolInfo = results.map((r:any)=>{\n        return {dexName: r.get(\"dexName\"), symbol0: r.get(\"symbol0\"), symbol1: r.get(\"symbol1\"), reserve0: r.get(\"reserve0\"), reserve1: r.get(\"reserve1\"), tvl0: r.get(\"tvl0\"), tvl1: r.get(\"tvl1\")}\n    })\n\n    return poolInfo;\n}\n\n\nexport const getInfoForPoolsForPair = async (address?: any, date?: any) => {\n\n    const PoolInfo = Moralis.Object.extend(\"DexTokenPairLiquidity\");\n    const query = new Moralis.Query(PoolInfo);\n    query.select(\"dexName\", \"symbol0\",\"symbol1\",\"reserve0\",\"reserve1\",\"tvl0\",\"tvl1\",\"timeStamp\");\n    if(date) {\n        query.greaterThan(\"timeStamp\", date);\n    }\n    query.limit(5000);\n    query.equalTo(\"pairAddress\", address);\n    query.ascending(\"timeStamp\");\n    const results = await query.find();\n    const poolInfo = results.map((r:any)=>{\n        return {dexName: r.get(\"dexName\"), symbol0: r.get(\"symbol0\"), symbol1: r.get(\"symbol1\"),\n            reserve0: Math.round(r.get(\"reserve0\")), reserve1: Math.round(r.get(\"reserve1\")), tvl0: Math.round(r.get(\"tvl0\")), tvl1: Math.round(r.get(\"tvl1\")), timestamp: r.get(\"timeStamp\")}\n    })\n\n    return poolInfo;\n}\n\n","import SteamGraph from \"./charts/steamChart/SteamGraph\";\nimport React, {useEffect, useState} from \"react\";\nimport {getInfoForPools, getInfoForPoolsForPair, getPoolList} from \"../services/dexService\";\nimport {Checkbox} from \"@chakra-ui/react\";\nimport Title from \"./genericComponents/Title\";\nimport SteamGraph2 from \"./charts/steamChart/SteamGraph2\";\nimport SteamGraph3 from \"./charts/steamChart/SteamGraph3\";\n\nconst addressesToInclude = [\"0x8fb5bd3ac8efd05dacae82f512dd03e14aadab73\",\"0x72c3438cf1c915ecf5d9f17a6ed346b273d5bf71\",\"0x3daf1c6268362214ebb064647555438c6f365f96\",\"0x454e67025631c065d3cfad6d71e6892f74487a15\"\n    ,\"0xfe15c2695f1f920da45c30aae47d11de51007af9\",\"0x1643de2efb8e35374d796297a9f95f64c082a8ce\",\"0x87dee1cc9ffd464b79e058ba20387c1984aed86a\",\"0xa6908c7e3be8f4cd2eb704b5cb73583ebf56ee62\"\n    ,\"0x6f3a0c89f611ef5dc9d96650324ac633d02265d3\",\"0xd5a37dc5c9a396a03dd1136fc76a1a02b1c88ffa\",\"0xb5c9e891af3063004a441ba4fab4ca3d6deb5626\",\"0xed8cbd9f0ce3c6986b22002f03c6475ceb7a6256\",\n    \"0x2774516897ac629ad3ed9dcac7e375dda78412b9\",\"0x67926d973cd8ee876ad210faaf7dffa99e414acf\",\"0x63abe32d0ee76c05a11838722a63e012008416e6\",\"0xa389f9430876455c36478deea9769b7ca4e3ddb1\",\n    \"0x781655d802670bba3c89aebaaea59d3182fd755d\",\"0x2e02539203256c83c7a9f6fa6f8608a32a2b1ca2\",\"0xf64e1c5b6e17031f5504481ac8145f4c3eab4917\",\"0xb9f425bc9af072a91c423e31e9eb7e04f226b39d\",\n    \"0x62475f52add016a06b398aa3b2c2f2e540d36859\",\"0x140cac5f0e05cbec857e65353839fddd0d8482c1\",\"0xc2ea99c031b05ae03044c857c78afb5671dee96b\",\"0xc3e6d9f7a3a5e3e223356383c7c055ee3f26a34f\",\n    \"0x113f413371fc4cc4c9d6416cf1de9dfd7bf747df\",\"0x361221991b3b6282ff3a62bc874d018bfaf1f8c8\",\"0x199fb78019a08af2cb6a078409d0c8233eba8a0c\",\"0x7b7617c7b2236d7871741783cae8bcc222c2e05d\",\n    \"0xbe4b31fce1885fcd0e3351aa8b392fbcc4ef6036\",\"0x50141c21e4e861d4b2cbeb825b9a2b5e5e09a186\"]\n//\n//\n// const findIndexByTimestamp = (element:any) => {\n//     if (element['timestamp'] === this.timestamp) {\n//         return 1;\n//     }\n//     return -1;\n// }\n//\n\n\n\nconst PoolView = (props:any) => {\n\n    const [data, setData] = useState<any>([]);\n    const [poolList, setPoolList] = useState<any[]>([]);\n    const [activePools,setActivePools] = useState<any>([]);\n    const [graphReady, setGraphReady] = useState<boolean>(false);\n    const [keys, setKeys] = useState<string[]>([]);\n    const [lastRequestLength, setLastRequestLength] = useState<any>(0);\n\n    useEffect(()=> {\n\n        getPoolList()\n            .then((pools)=>{\n                console.log(\"Pools: \", pools);\n                setPoolList(pools.filter(r=>addressesToInclude.includes(r.pairAddress)))\n            });\n    }, [])\n\n    const handleCheckBoxChange = (e:any,idx:number) => {\n        console.log(\"CheckBoxChanged to: \", e.target.checked);\n        console.log(\"With value: \", e.target.value);\n\n        if(e.target.checked) {\n            // Add new token to active pool list\n            setActivePools([...activePools, poolList[idx]]);\n        } else {\n            // Remove using value...\n            setActivePools(activePools.filter((ap:any)=>ap.pairAddress != e.target.value));\n        }\n\n        //Chec\n\n    }\n\n    useEffect(()=>{\n        console.log(\"Current list is: \", activePools);\n        console.log(\"Last request length: \", lastRequestLength);\n\n        if(activePools.length > 0){\n\n            if(activePools.length > lastRequestLength) {\n                console.log(\"---------------> Will add a new pair\");\n                getInfoForPoolsForPair(activePools[activePools.length -1].pairAddress)\n                    .then((d)=>{\n                        console.log(\"Recieved: \", d);\n                        const newArr : any[] = [];\n                        const newKey = 'tvl'+d[0].symbol0+'-'+d[0].symbol1;\n\n                        if(data.length >0) {\n                            d.map((nd:any, idx:number) => {\n                                const obj : any = {};\n                                obj[newKey] = nd.tvl0 + nd.tvl1;\n                                Object.assign(data[idx],{...obj})\n                                // newArr.push(obj);\n                            })\n                            setData(()=>[...data]);\n\n                        } else {\n                            d.map((nd:any, idx:number) => {\n                                const obj : any = {};\n                                obj[newKey] = nd.tvl0 + nd.tvl1;\n                                obj[\"timestamp\"] = nd.timestamp;\n                                newArr.push(obj);\n                            })\n                            setData(()=>[...newArr]);\n                        }\n                        keys.push(newKey)\n                        setKeys(keys);\n                    })\n            } else {\n                // Remove from current array\n                console.log(\"---------------> Will remove a pair\");\n                const addressArray = activePools.map((ap:any)=>ap.pairAddress);\n                console.log(\"Address array is: \", addressArray);\n                const keys = Object.keys(data[0]).filter(k=>k!=\"timestamp\");\n                console.log(\"Keys is: \", keys);\n                const addressToRemove = keys.filter((a:any)=>!addressArray.includes(a))[0];\n                console.log(\"Address to remove: \", addressToRemove);\n\n\n                const newArr = data.map((d:any)=>{\n                    delete d[addressToRemove];\n                    return d;\n                });\n                console.log(\"New data arr: \", data);\n                const keyIndex = keys.indexOf(addressToRemove);\n                const newKeys = keys.splice(keyIndex,1)\n                setKeys(newKeys);\n                setData(newArr)\n            }\n\n        }\n        setLastRequestLength(activePools.length);\n\n    },[activePools])\n\n\n    useEffect(()=>{\n        console.log(\"Keys changed to: \", keys);\n    },[keys])\n\n\n\n    return (<div>\n        <Title title=\"Pools\" hasInfo></Title>\n        <div style={{width:'95%', height:500, borderWidth:1, borderRadius:20, marginBottom:20}}>\n        {data.length > 0 && <SteamGraph data={data} keys={keys}/>}\n        </div>\n\n        {poolList.map((t:any, idx: number) =>\n            <Checkbox style={{margin:5}} defaultChecked={false} value={t.pairAddress} onChange={(e)=>handleCheckBoxChange(e, idx)}>{t.token0}/{t.token1}</Checkbox>)}\n\n\n\n\n    </div>)\n\n\n}\n\n\nexport default PoolView;","import React, {useEffect, useState} from \"react\";\nimport \"./App.css\";\nimport Moralis from \"moralis\";\nimport Navbar from \"./components/navbar/Navbar\";\nimport { useMoralis } from \"react-moralis\";\nimport Tokens from \"./components/Tokens\";\nimport { BrowserRouter, Route, Routes } from \"react-router-dom\";\nimport TokenView from \"./components/TokenView\";\nimport CandleStickTemplate from \"./components/charts/candlestick/CandleStickTemplate\";\nimport {appId, serverUrl} from \"./index\";\nimport Pools from \"./components/Pools\";\nimport {Dashboard} from \"./components/dashboard/Dashboard\";\nimport set = Moralis.CoreManager.set;\nimport {Sidebar} from \"./components/sidebar/Sidebar\";\nimport {\n    Button, DrawerBody,\n    DrawerCloseButton,\n    DrawerContent, DrawerFooter,\n    DrawerHeader,\n    DrawerOverlay,\n    Grid, Drawer,\n    GridItem, Input,\n    useDisclosure, Flex\n} from \"@chakra-ui/react\";\nimport {MultipleTokens} from \"./components/MultipleTokens\";\nimport PoolView from \"./components/PoolView\";\nimport {ColorPalette} from \"./components/styles/color_palette\";\n\n\n\n\n\nfunction App() {\n  Moralis.initialize(appId);\n  Moralis.serverURL = serverUrl;\n\n  const { authenticate, isAuthenticating, isAuthenticated, logout, authError } =\n    useMoralis();\n\n  const authVars = {authenticate, isAuthenticating, isAuthenticated, logout, authError}\n    const [user,setUser] = useState();\n    const [navSize, setNavSize] = useState('large');\n\n  useEffect(()=>console.log(\"User now is: \", user),[user])\n\n  // const [welcomeMessage, setWelcomeMessage] = useState(\"\");\n\n  // const [dexList, setDexList] = useState<any[]>([]);\n\n  return (\n    <Flex style={{backgroundColor:ColorPalette.backgroundColor, height:'100vh', fontStyle:'nunito'}}>\n\n        <BrowserRouter  >\n\n          <Grid h=\"95vh\" w='99vw' templateColumns='repeat(10, 1fr)'>\n\n\n\n                <GridItem clsSpan={2} style={{height:\"100vh\"}}>\n                  <Sidebar navSize={navSize} setNavSize={setNavSize}/>\n                </GridItem>\n\n                <GridItem colSpan={9} style={{marginLeft:20, width:'100%',overflow:'auto'}}>\n                      <Routes>\n                      <Route path=\"/\" element={<Dashboard/>} />\n                      <Route path=\"/tokens\" element={<Tokens/>} />\n                      <Route path=\"/multiTokens\" element={<MultipleTokens />} />\n                      <Route path=\"/token/:address\" element={<TokenView/>} />\n\n                      <Route path=\"/pools\" element={<PoolView />} />\n                      <Route path=\"/pool/:token0/:token1\"  element={<PoolView/>} />\n                    <Route path=\"/statistics\"  element={<CandleStickTemplate />} />\n\n                    </Routes>\n                </GridItem>\n          </Grid>\n          {/*</div>*/}\n      </BrowserRouter>\n    </Flex>\n  )\n  \n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {ChakraProvider, extendTheme} from \"@chakra-ui/react\";\nimport {MoralisProvider} from \"react-moralis\";\n// import WithSubnavigation from \"./components/Navbar\";\n\n\nconst theme = extendTheme({\n    'config': {\n        initialColorMode:'light'\n    }\n});\n\n// export const appId = \"3zMC9oNElQZ4Ew0pzpmSwzve9r7JTj1tajiJwQx6\";\n// export const serverUrl = \"https://1tm9bltzoknp.usemoralis.com:2053/server\";\nexport const serverUrl = \"https://dwphjko0r4hx.usemoralis.com:2053/server\";\nexport const appId = \"Mgs7zi861Gx6HwE30jwiGuVBsP7LXybNW0x4UscU\";\n\nReactDOM.render(\n  <React.StrictMode>\n      <MoralisProvider appId={appId} serverUrl={serverUrl}>\n          <ChakraProvider theme={theme}>\n              <App />\n          </ChakraProvider>\n      </MoralisProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}