(this.webpackJsonpavada_client=this.webpackJsonpavada_client||[]).push([[0],{1029:function(e,t){},1031:function(e,t){},1035:function(e,t){},1036:function(e,t){},1063:function(e,t){},1065:function(e,t){},1075:function(e,t){},1077:function(e,t){},1087:function(e,t){},1089:function(e,t){},1105:function(e,t){},1139:function(e,t){},1140:function(e,t){},1210:function(e,t){},1212:function(e,t){},1217:function(e,t){},1219:function(e,t){},1226:function(e,t){},1238:function(e,t){},1241:function(e,t){},1246:function(e,t){},1333:function(e,t){},1407:function(e,t,n){},1410:function(e,t,n){},1411:function(e,t,n){},1412:function(e,t,n){"use strict";n.r(t),n.d(t,"serverUrl",(function(){return Ge})),n.d(t,"appId",(function(){return Ve}));var a=n(0),r=n.n(a),c=n(235),i=n.n(c),s=(n(760),n(6)),o=(n(761),n(20)),l=n.n(o),d=n(289),u=n(52),b=(n(33),n(11)),j=n.n(b),f=n(35),h=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("TokenDetails"),(n=new l.a.Query(t)).select("name","id","address","symbol","logoUrl"),e.next=5,n.find();case 5:return a=e.sent,r=a.map((function(e){return{name:e.get("name"),address:e.get("address"),symbol:e.get("symbol"),logoUrl:e.get("logoUrl")}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,a,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.Object.extend("TokenDetails"),(a=new l.a.Query(n)).select("name","id","address","symbol","logoUrl"),a.equalTo("address",t),e.next=6,a.find();case 6:return r=e.sent,c=r.map((function(e){return{name:e.get("name"),address:e.get("address"),symbol:e.get("symbol"),logoUrl:e.get("logoUrl")}})),e.abrupt("return",c[0]);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,a,r,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=l.a.Object.extend("Token15Min"),(i=new l.a.Query(c)).select("timeStamp","price","address","marketCap"),i.equalTo("address",t),i.descending("timeStamp"),i.limit(1),e.next=8,i.find();case 8:return s=e.sent,e.abrupt("return",{price:null===(n=s[0])||void 0===n?void 0:n.get("price").toFixed(2),address:null===(a=s[0])||void 0===a?void 0:a.get("address"),marketCap:null===(r=s[0])||void 0===r?void 0:r.get("marketCap")});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(f.a)(j.a.mark((function e(t,n,a,r,c){var i,s,o,d,b,f;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Received class name: ",n),i=l.a.Object.extend(n),s=new l.a.Query(i),d=(o="Token1Day"==n||"Token4Hour"==n||"Token1Hour"==n)?"averagePrice":"price",!c){e.next=11;break}if(o){e.next=8;break}throw new Error("Interval not supported for candle data");case 8:s.select(d,"closePrice","openPrice","maximumPrice","minimumPrice","id","timeStamp","exchange","symbol","pctChange"),e.next=12;break;case 11:s.select(d,"id","timeStamp","exchange","symbol","pctChange");case 12:return s.equalTo("address",t),a&&s.greaterThan("timeStamp",a),r&&s.lessThan("timeStamp",r),s.ascending("timeStamp"),s.limit(5e3),e.next=19,s.find();case 19:return b=e.sent,f=b.map((function(e){var t={price:o?e.get("averagePrice"):e.get("price"),timestamp:e.get("timeStamp"),exchange:e.get("exchange"),symbol:e.get("symbol")};if(c){var a={closePrice:e.get("closePrice"),openPrice:e.get("openPrice"),maximumPrice:e.get("maximumPrice"),minimumPrice:e.get("minimumPrice")};Object.assign(t,Object(u.a)({},a))}return"Token15Min"!==n&&Object.assign(t,{pctChange:e.get("pctChange")}),t})),e.abrupt("return",f);case 22:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}(),x=function(){var e=Object(f.a)(j.a.mark((function e(t,n,a){var r,c,i,s=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>3&&void 0!==s[3]?s[3]:[],e.next=3,h();case 3:return c=e.sent,r.length>0&&(c=c.filter((function(e){return r.includes(e.symbol)}))),i=[],e.next=8,Promise.all(c.map(function(){var e=Object(f.a)(j.a.mark((function e(r){var c,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(r.address,t,n,a);case 2:c=e.sent,s=[],c.reverse().map((function(e){s.push({timestamp:e.timestamp,symbol:e.symbol,price:e.price,pctChange:e.pctChange})})),i.push.apply(i,s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),O=n(597),v=n(23),y=n(595),k=n(148),w=n(147),S="#056674",C="#FF4B5C",M="#FF4B5C",T="#66BFBF",D="#fd4431",E="#09D766",F="white",I="white",A=n(2);function L(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([0,0]),o=Object(s.a)(i,2),l=o[0],d=o[1];return Object(A.jsxs)(y.e,{style:{margin:20},children:[Object(A.jsx)(y.h,{fontSize:"2xl",children:e.title}),e.hasInfo&&Object(A.jsx)("div",{onMouseEnter:function(e){console.log("Event: ",e.target),console.log("Boundingrect: ",e.target.getBoundingClientRect());var t=e.target.getBoundingClientRect();d([t.x,t.y]),console.log("Activating popup"),c(!0)},onMouseLeave:function(){c(!1)},style:{padding:10},children:Object(A.jsx)(w.a,{icon:k.b,style:{float:"right",color:S}})}),r&&Object(A.jsx)("div",{style:{position:"absolute",left:l[0]+20,top:l[1]+20,float:"left",backgroundColor:S,opacity:.95,zIndex:999,borderColor:"gray",borderWidth:1,borderRadius:10,width:200,height:200,padding:20},children:"Hey"})]})}function P(e){var t=Object(v.f)(),n=Object(a.useState)(null),r=Object(s.a)(n,2),c=r[0],i=r[1],o=function(e){return e.price>-1?Object(A.jsx)("span",{children:"$ "+e.price}):Object(A.jsx)("span",{children:"-"})},l=function(e){return e.marketCap>-1?Object(A.jsx)("span",{children:"M$ "+(e.marketCap/Math.pow(10,6)).toFixed(2)}):Object(A.jsx)("span",{children:"-"})};return Object(A.jsxs)(O.a,{variant:"simple",children:[Object(A.jsx)(O.e,{children:Object(A.jsxs)(O.f,{children:[Object(A.jsx)(O.d,{children:"Name"}),Object(A.jsxs)(O.d,{children:["Symbol ",Object(A.jsx)(w.a,{icon:k.c,onClick:function(){return e.sort("symbol")}})]}),Object(A.jsxs)(O.d,{children:["Current Price ",Object(A.jsx)(w.a,{icon:k.c,onClick:function(){return e.sort("price")}})]}),Object(A.jsxs)(O.d,{children:["Market Cap ",Object(A.jsx)(w.a,{icon:k.c,onClick:function(){return e.sort("marketCap")}})]})]})}),Object(A.jsx)(O.b,{children:e.tokenList.map((function(e,n){return Object(A.jsxs)(O.f,{style:c==n?{backgroundColor:T,borderRadius:10,cursor:"pointer"}:{},onMouseEnter:function(e){return function(e,t){i(t)}(0,n)},onMouseLeave:function(){i(null)},onClick:function(){return t("/token/".concat(e.address))},children:[Object(A.jsx)(O.c,{children:Object(A.jsx)("img",{style:{width:64,height:64},src:e.logoUrl})}),Object(A.jsx)(O.c,{children:e.symbol}),Object(A.jsx)(O.c,{children:o(e)}),Object(A.jsx)(O.c,{children:l(e)})]},n)}))})]})}var z=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),l=o[0],d=o[1];Object(a.useEffect)((function(){h().then((function(e){var t=e.filter((function(e){return"ANY"!=e.symbol&&"SUSHI.e"!=e.symbol}));console.log("FIltered tokens: ",t),c(t)}))}),[]),Object(a.useEffect)((function(){b(r)}),[r]);var b=function(e){console.log("Will start props fetching!!"),e.map((function(e){console.log("Fetching for: ",e.address),g(e.address).then((function(e){console.log("Received that...");var t=r,n=t.findIndex((function(t){return t.address==e.address}));t[n]&&(t[n].price=e.price?e.price:0,t[n].marketCap=e.marketCap?e.marketCap:0,console.log("Updated: ",e.address),c(t))}))}))};return Object(A.jsxs)("div",{style:Object(u.a)({},e.style),children:[Object(A.jsx)(L,{title:"Tokens",hasInfo:!0}),r.length>0&&Object(A.jsx)(P,{tokenList:r,sort:function(e){c(function(e,t,n){return n?e.sort((function(e,n){return parseFloat(e[t])>parseFloat(n[t])?1:parseFloat(e[t])<parseFloat(n[t])?-1:0})):e.sort((function(e,n){return parseFloat(e[t])>parseFloat(n[t])?-1:parseFloat(e[t])<parseFloat(n[t])?1:0})),console.log("Sorted: ",e),e}(r,e,l)),d(!l)}})]})},_=n(143),N=n(92),R=n(601),B=n(602),U=n(7),H=n(89),W=n(598),Y=n(149),q=n.n(Y),Q=function(e){var t=e.x,n=e.y,a=e.chart_dims,r=e.style;return t+n===0?Object(A.jsx)(A.Fragment,{}):Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("line",{x1:0,y1:n,x2:a.pixel_width,y2:n,style:r,className:q()({cross_hair:!0,horz:!0})}),Object(A.jsx)("line",{x1:t,y1:0,x2:t,y2:a.pixel_height,style:r,className:q()({cross_hair:!0,vert:!0})})]})},K=function(e,t){var n=Math.abs(e-t.pixel_height)/t.pixel_height*t.dollar_delta+t.dollar_low;return e>0?n.toFixed(2):"-"},G=function(e){var t=e.data,n=e.width,r=e.height,c=e.dates,i=Object(a.useState)(void 0),o=Object(s.a)(i,2),l=(o[0],o[1],Object(a.useState)({x:0,y:0})),d=Object(s.a)(l,2),u=d[0],b=d[1],j=Math.round(t.reduce((function(e,t){return Math.min(e,t)}))),f=Math.ceil(t.reduce((function(e,t){return Math.max(e,t)}))),h={pixel_width:n,pixel_height:r,dollar_high:f,dollar_low:j,dollar_delta:f-j},p=Object(a.useRef)();function g(){var t=e.data,a=Object(H.b)().duration(1e3),i=Object(W.a)("#line"),s=U.s(p.current).attr("width",n).attr("height",r).style("background",F).style("margin-left","50").style("overflow","visible"),o=U.q().domain([new Date(1e3*c[0]),new Date(1e3*c[c.length-1])]).range([0,n]),l=Math.round(t.reduce((function(e,t){return Math.min(e,t)}))),d=Math.ceil(t.reduce((function(e,t){return Math.max(e,t)}))),u=U.n().domain([l,d]).range([r,0]),b=U.c(o).ticks(5);s.selectAll("g.x.axis").attr("transform","translate(0,"+r+")").call(b);var j=U.d(u).ticks(5);s.selectAll("g.y.axis").call(j),function(e,t,n,a,r){var c=Object(U.c)(t).tickSize(-a).tickFormat("").ticks(10),i=Object(U.d)(n).tickSize(-r).tickFormat("").ticks(10);e.selectAll("g.y.axis-grid").attr("class","y axis-grid").attr("color",T).call(c),e.selectAll("g.y.axis-grid").attr("class","y axis-grid").attr("color",T).call(i)}(s,o,u,r,n);var f=U.h().x((function(e,t){return o(new Date(1e3*c[t]))})).y(u).curve(U.e);i.datum(t).transition(a).attr("d",f)}var m=function(e){var a=U.s(p.current).attr("width",n).attr("height",r).style("background",F).style("margin-left","50").style("overflow","visible"),i=U.q().domain([new Date(1e3*c[0]),new Date(1e3*c[c.length-1])]).range([0,n]),s=Math.round(t.reduce((function(e,t){return Math.min(e,t)}))),o=Math.ceil(t.reduce((function(e,t){return Math.max(e,t)})));console.log("Y max is: ",o),console.log("Y min is: ",s);var l=U.n().domain([s,o]).range([r,0]),d=U.h().x((function(e,t){return i(t)})).y(l).curve(U.e);return function(e,t,n,a,r,c,i,s,o){U.w("%b");var l=U.d(n).ticks(5),d=U.c(t).ticks(5);e.append("g").attr("class","x axis").attr("color",S).attr("transform","translate(0,"+r+")").call(d),e.append("g").attr("color",S).attr("class","y axis").call(l),e.append("text").attr("class","y label").attr("color",S).attr("text-anchor","end").attr("y",-60).attr("x",-r/2+10).attr("dy",".75em").attr("transform","rotate(-90)").text(o)}(a,i,l,0,r,0,0,0,"USD Price"),function(e,t,n,a,r){var c=Object(U.c)(t).tickSize(-a).tickFormat("").ticks(10),i=Object(U.d)(n).tickSize(-r).tickFormat("").ticks(10);e.append("g").attr("class","x axis-grid").attr("color",T).attr("transform","translate(0,"+a+")").call(c),e.append("g").attr("class","y axis-grid").attr("color",T).call(i)}(a,i,l,r,n),function(e,t,n,a){e.append("path").datum(t).attr("id","line").attr("stroke",a.strokeColor?a.strokeColor:"black").attr("stroke-width",2).attr("fill","none").attr("d",n)}(a,t,d,{strokeColor:C}),d};return Object(a.useEffect)((function(){m()}),[]),Object(a.useEffect)((function(){g()}),[t]),Object(A.jsx)("div",{children:Object(A.jsxs)("svg",{onMouseMove:function(e){return function(e,t){t({x:e.nativeEvent.x-Math.round(e.currentTarget.getBoundingClientRect().left),y:e.nativeEvent.y-Math.round(e.currentTarget.getBoundingClientRect().top)})}(e,b)},onMouseLeave:function(){return function(e){e({x:0,y:0})}(b)},style:{marginLeft:"100px",zIndex:-1},ref:p,children:[Object(A.jsx)("text",{x:"10",y:"16",fill:S,fontSize:"25",children:Object(A.jsxs)("tspan",{x:"10",y:"30",color:D,children:["Dollars: $",K(u.y,h)]})}),Object(A.jsx)(Q,{style:{stroke:"#892CDC",strokeWidth:2},x:u.x,y:u.y,chart_dims:{pixel_width:n,pixel_height:r}})]})})},V=(n(1407),n(128)),$=function(e){var t=e.data,n=e.x,a=e.candle_width,r=e.pixelFor,c=t.close>t.open,i=r(c?t.close:t.open),s=r(c?t.open:t.close),o=s-i,l=r(t.high),d=r(t.low);return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("rect",{x:n-a/2,y:i,width:a,height:o,className:q()({candle:!0,up:c,down:!c})}),Object(A.jsx)("line",{className:q()({wick:!0,top:!0,up:c,down:!c}),x1:n,y1:i,x2:n,y2:l}),Object(A.jsx)("line",{className:q()({wick:!0,bottom:!0,up:c,down:!c}),x1:n,y1:s,x2:n,y2:d})]})},X=function(e){var t,n=e.data,r=e.width,c=e.height,i=Object(a.useRef)(),o=Object(a.useState)({x:0,y:0}),l=Object(s.a)(o,2),d=l[0],u=l[1],b=1.05*U.i(n.map((function(e){return e.high}))),j=.95*U.j(n.map((function(e){return e.low})));console.log("Highs are: high ".concat(b," and low ").concat(j));var f={pixel_width:r,pixel_height:c,dollar_high:b,dollar_low:j,dollar_delta:b-j},h=function(e){var t=Math.abs(e-f.pixel_height)/f.pixel_height*f.dollar_delta+f.dollar_low;return e>0?t.toFixed(2):"-"},p=function(e){return Math.abs((e-f.dollar_low)/f.dollar_delta*f.pixel_height-f.pixel_height)},g=Math.floor(r/n.length*.7),m=function(){var t=U.n().domain([0,n.length]).range([0,e.width]),a=n.map((function(e){return e.high})),r=n.map((function(e){return e.low})),c=Math.round(r.reduce((function(e,t){return Math.min(e,t)}))),o=Math.ceil(a.reduce((function(e,t){return Math.max(e,t)})));console.log("Y max is: ",o),console.log("Y min is: ",c);var l=U.n().domain([c,o]).range([e.height,0]),d=U.s(i.current).attr("width",e.width).attr("height",e.height).style("background","white").style("margin-left","50").style("overflow","visible"),u=function(e,t,n,a,r,c){var i=U.c(t).ticks(c).tickFormat((function(e){return e+1})),s=U.d(n).ticks(5);return e.append("g").call(i).attr("transform","translate(0, ".concat(r,")")),e.append("g").call(s),e.append("text").attr("class","y label").attr("text-anchor","end").attr("y",-50).attr("x",-r/2).attr("dy",".75em").attr("transform","rotate(-90)").text("Price (USD)"),[i,s]}(d,t,l,e.width,e.height,10),b=Object(s.a)(u,2);b[0],b[1];!function(e,t,n,a,r){var c=Object(U.c)(t).tickSize(-a).tickFormat("").ticks(10),i=Object(U.d)(n).tickSize(-r).tickFormat("").ticks(10);e.append("g").attr("class","x axis-grid").attr("color","#c8a1ff").attr("transform","translate(0,"+a+")").call(c),e.append("g").attr("class","y axis-grid").attr("color","#c8a1ff").call(i)}(d,t,l,e.height,e.width)};return Object(a.useEffect)((function(){m()}),[]),Object(A.jsxs)("svg",(t={ref:i,width:r,height:c,onClick:function(e){console.log("Click at ".concat(e.nativeEvent.offsetX,", ").concat(e.nativeEvent.offsetY))},onMouseMove:function(e){return function(e){u({x:e.nativeEvent.x-Math.round(e.currentTarget.getBoundingClientRect().left),y:e.nativeEvent.y-Math.round(e.currentTarget.getBoundingClientRect().top)})}(e)},onMouseLeave:function(){u({x:0,y:0})},style:{marginLeft:"100px",zIndex:-1}},Object(V.a)(t,"ref",i),Object(V.a)(t,"children",[Object(A.jsx)("text",{x:"10",y:"16",fill:"black",fontSize:"20",children:Object(A.jsxs)("tspan",{x:"10",y:"30",color:"black",children:["Dollars: $",h(d.y)]})}),n.map((function(e,t){var a=r/(n.length+1)*(t+1);return Object(A.jsx)($,{data:e,x:a,candle_width:g,pixelFor:p},t)})),Object(A.jsx)("text",{x:"10",y:"16",fill:"white",fontSize:"10",children:Object(A.jsxs)("tspan",{x:"10",y:"30",children:["Dollars: $",h(d.y)]})}),Object(A.jsx)(Q,{style:{stroke:"black",strokeWidth:2},x:d.x,y:d.y,chart_dims:f})]),t))};function J(e){var t=function(t){return console.log("Candles: ",t),e.data.map((function(e,t){var n=e.openPrice,a=e.closePrice;return{time:t,open:n,high:e.maximumPrice,low:e.minimumPrice,close:a}}))};t();var n=Object(a.useState)(t()),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){console.log("Building candles"),i(t())}),e.data),Object(A.jsx)("div",{children:Object(A.jsx)("div",{children:Object(A.jsx)(X,{data:c,width:e.width,height:e.height})})})}var Z=n(1423),ee=function(e){return Object(A.jsxs)("div",{style:Object(u.a)(Object(u.a)({},e.style),{},{justifyItems:"center"}),children:[Object(A.jsx)(Z.a,{size:e.spinnerSize?e.spinnerSize:"60",color:C}),Object(A.jsx)("span",{style:{color:C,marginLeft:"20px"},children:e.message})]})};function te(e){var t=Object(a.useState)(-1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(A.jsx)("div",{children:Object(A.jsx)(y.g,{direction:"row",children:e.buttons.map((function(t,n){return Object(A.jsx)("div",{id:"select-".concat(n),onClick:function(){return e.selectionHandler(t.value)},style:{backgroundColor:r==n?"grey":e.style.buttonColor,margin:10,padding:10,textAlign:"center",borderRadius:10,cursor:"pointer"},onMouseEnter:function(e){return function(e,t){c(t)}(0,n)},onMouseLeave:function(e){c(-1)},children:Object(A.jsx)("span",{children:t.label})})}))})})}n(1408);var ne,ae=function(e){var t=new Date(1e3*e),n=parseInt(t.getMonth().toString())+1;return t.getDate()+"-"+n+"-"+t.getFullYear()},re=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("Token1Day"),(n=new l.a.Query(t)).select("pctChange","id","timeStamp","exchange","symbol"),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()-2,22,0,0,0).getTime()/1e3,n.greaterThanOrEqualTo("timeStamp",r),n.descending("pctChange"),e.next=9,n.find();case 9:return c=e.sent,i=c.map((function(e){return{pctChange:e.get("pctChange"),symbol:e.get("symbol")}})),e.abrupt("return",i.slice(0,5));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("Token1Day"),(n=new l.a.Query(t)).select("pctChange","id","timeStamp","exchange","symbol"),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate()-2,22,0,0,0).getTime()/1e3,n.greaterThanOrEqualTo("timeStamp",r),n.ascending("pctChange"),e.next=9,n.find();case 9:return c=e.sent,i=c.map((function(e){return{pctChange:e.get("pctChange"),symbol:e.get("symbol")}})),e.abrupt("return",i.slice(0,5));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("Token1Hour"),(n=new l.a.Query(t)).select("marketCap","id","timeStamp","exchange","symbol"),a=new Date,r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours()-4,0,0,0).getTime()/1e3,n.greaterThanOrEqualTo("timeStamp",r),n.descending("marketCap"),e.next=9,n.find();case 9:return c=e.sent,i=c.map((function(e){return{marketCap:e.get("marketCap"),symbol:e.get("symbol")}})),s=i.slice(0,5),e.abrupt("return",s.map((function(e){return{marketCap:(e.marketCap/Math.pow(10,9)).toFixed(3),symbol:e.symbol}})));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(f.a)(j.a.mark((function e(t){var n,a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.a.Object.extend("Token1Day"),(c=new l.a.Query(r)).select("createdAt","timeStamp","exchange","symbol","pctChange"),c.equalTo("address",t),c.descending("timeStamp"),c.limit(5e3),e.next=8,c.find();case 8:return i=e.sent,console.log("Result has timestamp: ",null===(n=i[0])||void 0===n?void 0:n.get("timeStamp")),e.abrupt("return",null===(a=i[0])||void 0===a?void 0:a.get("pctChange").toFixed(2));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(e){return Object(A.jsxs)(y.i,{style:{justifyContent:"center"},children:[Object(A.jsx)(w.a,{icon:k.a,size:"lg",style:{float:"right",color:T}}),Object(A.jsx)("span",{style:{fontSize:"0.6em"},children:"Export data"})]})};!function(e){e[e.LINE=0]="LINE",e[e.CANDLESTICK=1]="CANDLESTICK"}(ne||(ne={}));var le=[{value:"Token1Day",label:"1 Day"},{value:"Token4Hour",label:"4 Hours"},{value:"Token1Hour",label:"1 Hour"},{value:"Token15Min",label:"15 Mins"}];ne.LINE,ne.CANDLESTICK;var de=function(e){var t=Object(a.useState)(le[0].value),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(le),o=Object(s.a)(i,2),l=o[0],d=o[1],u=function(){switch(r){case"Token1Day":return 86400;case"Token4Hour":return 14400;case"Token1Hour":return 3600;case"Token15Min":return 900;default:return 1}},b=Object(a.useState)(null),h=Object(s.a)(b,2),g=h[0],x=h[1],O=Object(a.useState)([]),k=Object(s.a)(O,2),w=k[0],S=k[1],C=Object(a.useState)([]),T=Object(s.a)(C,2),D=T[0],E=T[1],F=Object(a.useState)(ne.LINE),I=Object(s.a)(F,2),L=I[0],P=I[1],z=Object(a.useState)([]),_=Object(s.a)(z,2),U=(_[0],_[1]),H=Object(a.useState)(!1),W=Object(s.a)(H,2),Y=W[0],q=W[1],Q=Object(a.useState)(!1),K=Object(s.a)(Q,2),V=(K[0],K[1]),$=Object(v.g)().address,X=Object(a.useState)(u()),Z=Object(s.a)(X,2),re=Z[0],ce=Z[1],ie=Object(a.useState)((Date.now()-2592e6)/1e3),de=Object(s.a)(ie,2),ue=de[0],be=de[1],je=Object(a.useState)(Date.now()/1e3),fe=Object(s.a)(je,2),he=fe[0],pe=fe[1],ge=Object(a.useState)(ae(ue)),me=Object(s.a)(ge,2),xe=me[0],Oe=me[1],ve=Object(a.useState)(ae(Date.now()/1e3)),ye=Object(s.a)(ve,2),ke=ye[0],we=ye[1],Se=Object(a.useState)(0),Ce=Object(s.a)(Se,2),Me=(Ce[0],Ce[1]);Object(a.useEffect)((function(){q(!0),p($).then((function(e){console.log("Received: ",e),x(e)})),se($).then((function(e){Me(e)})),m($,r,ue,he,L!==ne.LINE).then((function(e){S(Object(N.a)(e.map((function(e){return e})))),0==w.length&&V(!0),E(Object(N.a)(e.map((function(e){return e.timestamp})))),console.log("Got price history: ",w),q(!1);var t=[];e.map((function(e){t.includes(e.exchange)||t.push(e.exchange)})),U(t),console.log("Sources: ",t)}))}),[]);var Te=function(){var e=Object(f.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Asking price due to interval change: ",t),c(t),ce(u()),m($,t,ue,he,L!==ne.LINE).then((function(e){S(Object(N.a)(e.map((function(e){return e})))),0==w.length&&V(!0),E(Object(N.a)(e.map((function(e){return e.timestamp})))),q(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(e){be(e[0]),pe(e[1]),function(e){m($,r,Math.round(e[0]),Math.round(e[1]),L!==ne.LINE).then((function(e){S(Object(N.a)(e.map((function(e){return e})))),0==w.length&&V(!0),E(Object(N.a)(e.map((function(e){return e.timestamp})))),q(!1)}))}(e)};return Object(A.jsxs)("div",{style:{alignItems:"center"},children:[g&&Object(A.jsx)("div",{style:{margin:40,fontSize:"1.3em",fontWeight:"bold",alignItems:"center"},children:Object(A.jsxs)(y.e,{children:[Object(A.jsx)("img",{src:g.logoUrl,style:{width:60,height:60,margin:10}}),Object(A.jsxs)("h2",{children:[g.name," / ",g.symbol]})]})}),Y&&Object(A.jsx)("div",{style:{alignItems:"center",justifyItems:"center"},children:Object(A.jsx)(ee,{style:{width:"100%",height:"100%",marginTop:100,marginLeft:500},message:"Loading price history"})}),!Y&&w.length&&Object(A.jsxs)("div",{style:{margin:50},children:[L===ne.LINE&&Object(A.jsx)(G,{data:w.map((function(e){return e.price})),dates:D,xDomain:D,width:1200,height:450}),L!==ne.LINE&&Object(A.jsx)(J,{data:w,width:1200,height:450})]}),Object(A.jsxs)("div",{style:{width:"50%",marginLeft:60,marginTop:40},children:[Object(A.jsxs)(y.e,{spacing:"24px",children:[Object(A.jsx)(R.b,{onChange:function(e){return Te(e)},value:r,children:Object(A.jsx)(y.g,{direction:"row",children:l.map((function(e){return Object(A.jsx)(R.a,{value:e.value,children:e.label})}))})}),Object(A.jsx)(te,{title:"Chart Type",selectionHandler:function(e){console.log("Triggered with vale: ",e),L===ne.CANDLESTICK?d(le):d(l.filter((function(e){return"Token15Min"!=e.value}))),P(e)},style:{buttonColor:M},buttons:[{value:ne.LINE,label:"Line chart"},{value:ne.CANDLESTICK,label:"Candle chart"}]}),Object(A.jsx)(oe,{})]}),Object(A.jsxs)("div",{style:{borderWidth:1,borderStyle:"solid",borderRadius:20,padding:20},children:[Object(A.jsxs)(y.e,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"Start date: "}),Object(A.jsx)("span",{children:xe})]}),Object(A.jsx)("div",{children:" / "}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"End date: "}),Object(A.jsx)("span",{children:ke})]})]}),Object(A.jsxs)(B.a,{onChange:function(e){return Oe(ae((t=e)[0])),void we(ae(t[1]));var t},onChangeEnd:function(e){return De(e)},defaultValue:[ue,Math.round(Date.now()/1e3)],min:1629504e3,max:Math.round(Date.now()/1e3),step:re,minStepsBetweenThumbs:10,children:[Object(A.jsx)(B.d,{bg:M,children:Object(A.jsx)(B.b,{bg:M})}),Object(A.jsx)(B.c,{boxSize:6,index:0}),Object(A.jsx)(B.c,{boxSize:6,index:1})]})]})]})]})};function ue(e){Object(v.f)();var t=Object(a.useState)(null),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(A.jsxs)(O.a,{style:Object(u.a)({},e.tableStyle),variant:"simple",children:[!e.noHead&&Object(A.jsx)(O.e,{children:Object(A.jsx)(O.f,{children:e.entityProps.map((function(e,t){return Object(A.jsx)(O.d,{children:e.name},t)}))})}),Object(A.jsx)(O.b,{children:e.entityList.map((function(t,n){return Object(A.jsxs)(O.f,{style:r==n?{backgroundColor:"#FFB6C1",borderRadius:"10px",cursor:"pointer"}:{},onMouseEnter:function(e){return function(e,t){c(t)}(0,n)},onMouseLeave:function(){return c(null)},children:[e.imageProp&&Object(A.jsx)("img",{src:t[e.imageProp]}),e.entityProps.map((function(e,n){return Object(A.jsx)(O.d,{children:e.postProcess?e.postProcess(t[e.value]):t[e.value]},n)}))]},n)}))})]})}var be=function(e){var t=Object(a.useState)(0),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){e.getter().then((function(e){console.log("Entities: ",e),c(e)}))}),[]),Object(A.jsxs)("div",{children:[e.title&&Object(A.jsx)(L,{title:e.title}),r.length>0&&Object(A.jsx)(ue,{tableStyle:e.tableStyle,entityList:r,entityProps:e.entityProps,noHead:e.noHead})]})};function je(e){return Object(A.jsxs)("div",{style:Object(u.a)({},e.style),children:[Object(A.jsx)("div",{style:{width:"100%",backgroundColor:C}}),Object(A.jsx)(be,{title:"Gainers",getter:re,entityProps:[{name:"Symbol",value:"symbol"},{name:"% Change",value:"pctChange",postProcess:function(e){return(100*e).toFixed(2)+"%"}}]})]})}function fe(e){return Object(A.jsx)("div",{style:Object(u.a)({},e.style),children:Object(A.jsx)(be,{title:"Losers",getter:ce,entityProps:[{name:"Symbol",value:"symbol"},{name:"% Change",value:"pctChange",postProcess:function(e){return(100*e).toFixed(2)+"%"}}]})})}n(1410);var he=function(e){var t=e.data;Object(a.useEffect)((function(){n()}),[t]);var n=function(){var e=250,n=250,a=Math.min(e,n)/2,r=(U.s("body").node(),U.o().range([S,D,C,T,E])),c=U.s("#diagram").append("svg").attr("width",e).attr("height",n).append("g").attr("transform","translate(125,125)");if(void 0!==t){var i=U.a().outerRadius(a-10).innerRadius(a-60);console.log("Arc: ",i);var s=U.k().sort(null).value((function(e){return e.percentage}));U.s("#chart").append("div").attr("id","mainPie").attr("class","pieBox");var o=(c=U.s("#mainPie").append("svg").attr("width",e).attr("height",n).append("g").attr("transform","translate(125,125)")).append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");o.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",3).attr("result","blur"),o.append("feOffset").attr("in","blur").attr("dx",3).attr("dy",3).attr("result","offsetBlur");var l=o.append("feMerge");l.append("feMergeNode").attr("in","offsetBlur"),l.append("feMergeNode").attr("in","SourceGraphic");c.selectAll(".arc").data(s(t)).enter().append("g").attr("class","arc").append("path").attr("d",i).style("fill",(function(e){return r(e.data)})).on("mouseover",(function(e,t){console.log("Data is: ",e),console.log("Index is: ",t),U.s(this).attr("stroke","#fff").attr("stroke-width","2px").style("filter","url(#drop-shadow)"),U.s(this).transition().duration(500).attr("transform",(function(e){return e.midAngle=(e.endAngle-e.startAngle)/2+e.startAngle,"translate("+1*Math.sin(e.midAngle)+","+1*Math.cos(e.midAngle)+")"})),c.append("circle").attr("id","circle").attr("fill","#42A5F5").attr("r","62"),c.append("text").attr("id","circle-text").style("fill","#F2F2F2").style("font-size","20px").style("font-weight","bold").attr("transform","translate(0,20)").attr("text-anchor","middle").html("".concat(t.data.symbol," <br/> ").concat(t.data.percentage,"%"))})).on("mouseout",(function(e){U.s(this).attr("stroke","none").style("filter","none"),U.s(this).transition().duration(500).attr("transform","translate(0,0)"),U.s("circle").remove(),U.s("#circle-text").remove()}));var d=U.s("#diagram").append("div").attr("class","tooltip");d.append("div").attr("class","name"),d.append("div").attr("class","count"),d.append("div").attr("class","percentage")}};return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("div",{id:"chart"}),Object(A.jsx)("div",{id:"mainTooltip",className:"hidden",children:Object(A.jsx)("p",{children:Object(A.jsx)("span",{id:"value"})})})]})};function pe(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){ie().then((function(e){var t=[];console.log("All tokens: ",e);var n=e.map((function(e){return parseFloat(e.marketCap)})).reduce((function(e,t){return e+t}),0);console.log("Total marketcap = ",n),e.map((function(e){t.push({symbol:e.symbol,percentage:(parseFloat(e.marketCap)/n*100).toFixed(0)})})),c(t)}))}),[]),Object(A.jsxs)("div",{style:Object(u.a)({},e.style),children:[Object(A.jsx)(L,{title:"Market Cap (Top 5)"}),Object(A.jsxs)(y.e,{spacing:"5%",children:[r.length>0&&Object(A.jsx)(he,{data:r}),Object(A.jsx)(be,{getter:ie,tableStyle:{width:300},entityProps:[{name:"Symbol",value:"symbol"},{name:"M Cap (B$)",value:"marketCap"}]})]})]})}var ge=function(e){var t=e.data,n=e.width,r=e.height,c=e.color,i=Object(a.useRef)(),s=function(){if(void 0!=t){var e=U.s(i.current).attr("width",n).attr("height",r).style("background","white").style("margin-left","50").style("overflow","visible"),a=U.n().domain([0,t.length]).range([0,n]),s=Math.round(t.map((function(e){return e.price})).reduce((function(e,t){return Math.min(e,t)}))),o=Math.ceil(t.map((function(e){return e.price})).reduce((function(e,t){return Math.max(e,t)})));console.log("Y max is: ",o),console.log("Y min is: ",s);var l=U.n().domain([s,o]).range([r,0]),d=U.h().x((function(e,t){return a(t)})).y(l).curve(U.e);return function(e,n,a){e.append("path").datum(t.map((function(e){return e.price}))).attr("id","line").attr("stroke",a.strokeColor?a.strokeColor:"black").attr("stroke-width",2).attr("fill","none").attr("d",n)}(e,d,{strokeColor:c}),d}};return Object(a.useEffect)((function(){console.log("COLOR is: ",c),s()}),[]),Object(A.jsx)("svg",{style:{zIndex:-1},ref:i})};function me(e){var t=e.address,n=e.width,r=e.height,c=Object(v.f)(),i=Object(a.useState)(null),o=Object(s.a)(i,2),l=o[0],d=o[1],u=Object(a.useState)(null),b=Object(s.a)(u,2),j=b[0],f=b[1],h=Object(a.useState)(!1),g=Object(s.a)(h,2),x=g[0],O=g[1],k=Object(a.useState)("gray.200"),w=Object(s.a)(k,2),S=w[0],C=w[1],M=Object(a.useState)(0),T=Object(s.a)(M,2),F=T[0],I=T[1],L=Object(a.useState)(""),P=Object(s.a)(L,2),z=P[0],_=P[1];Object(a.useEffect)((function(){O(!0),p(t).then((function(e){return f(e)})),m(t,"Token1Hour",1).then((function(e){d(e.slice(e.length-24,e.length-1)),O(!1)}))}),[]),Object(a.useEffect)((function(){l&&(I((l[l.length-1].price-l[0].price)/l[0].price),console.log("Pctgchange is: ",F),_(F>0?E:D))}),[l]);var N=function(){return parseFloat((100*F).toFixed(2))};return Object(A.jsxs)("div",{onMouseEnter:function(){return C(F>0?E:D)},onMouseLeave:function(){return C("gray.200")},children:[x&&Object(A.jsx)(y.a,{border:"1px",borderColor:S,borderRadius:30,padding:5,children:Object(A.jsx)(ee,{})}),l&&z&&Object(A.jsxs)(y.a,{border:"2px",borderColor:S,borderRadius:30,padding:5,onClick:function(){return c("/token/".concat(t))},children:[j&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)(y.e,{children:[Object(A.jsx)("img",{style:{width:30,height:30},src:j.logoUrl}),Object(A.jsx)("span",{children:j.symbol}),0!==F&&Object(A.jsx)("span",{style:{marginRight:30,color:N()<0?D:E},children:N()+"% (24h)"})]}),l[l.length-1]&&Object(A.jsx)("span",{style:{margin:40},children:"$ "+l[l.length-1].price.toFixed(2)})]}),l.length>0&&z&&Object(A.jsx)("div",{style:{width:n,height:r},children:Object(A.jsx)(ge,{data:l,width:n,height:r,color:z})})]})]})}function xe(e){return Object(A.jsxs)("div",{style:Object(u.a)({},e.style),children:[Object(A.jsx)(L,{title:"Dashboard",hasInfo:!0}),Object(A.jsxs)(y.e,{spacing:10,children:[Object(A.jsx)(me,{address:"0x50b7545627a5162f82a992c33b87adc75187b218",width:300,height:150}),Object(A.jsx)(me,{address:"0x49d5c2bdffac6ce2bfdb6640f4f80f226bc10bab",width:300,height:150}),Object(A.jsx)(me,{address:"0xb31f66aa3c1e785363f0875a1b74e27b85fd66c7",width:300,height:150}),Object(A.jsx)(me,{address:"0xb54f16fb19478766a268f172c9480f8da1a7c9c3",width:300,height:150})]}),Object(A.jsxs)(y.e,{style:{marginTop:50},children:[Object(A.jsx)(pe,{style:{alignItems:"center",marginRight:50}}),Object(A.jsx)(je,{style:{width:400,alignItems:"center",marginLeft:50}}),Object(A.jsx)(fe,{style:{width:400,alignItems:"center",margin:20}})]})]})}var Oe=n(603);function ve(e){var t=e.navSize,n=e.icon,r=e.title,c=e.route,i=(e.active,e.style),o=e.setActiveMenu,l=e.idx,d=e.status,u=Object(a.useState)(null),b=Object(s.a)(u,2),j=(b[0],b[1],Object(a.useState)(!0)),f=Object(s.a)(j,2),h=(f[0],f[1],Object(a.useState)(!1)),p=Object(s.a)(h,2),g=(p[0],p[1],Object(a.useState)(!1)),m=Object(s.a)(g,2);m[0],m[1];return Object(A.jsx)(y.b,{mt:30,flexDir:"column",w:"100%",alignItems:"small"==t?"center":"flex-start",backgroundColor:i.backgroundColor,opacity:"active"==d?1:.6,children:Object(A.jsx)(Oe.a,{placement:"right",children:Object(A.jsx)(y.f,{as:_.b,to:c,p:3,borderRadius:8,_hover:"active"==d?{backgroundColor:T}:{backgroundColor:S},w:"large"==t?"100%":"",onClick:function(){"active"==d?o(l):console.log("Inactive")},children:Object(A.jsx)(Oe.b,{w:"100%",ml:3,children:Object(A.jsxs)(y.b,{style:{alignItems:"center"},children:[Object(A.jsx)("img",{style:{width:40,height:40},src:n}),Object(A.jsx)(y.h,{color:I,fontSize:"xl",ml:5,display:"small"==t?"none":"flex",children:r})]})})})})})}var ye=n.p+"static/media/tokens.01297ec6.png",ke=n.p+"static/media/coins.985572b0.png",we=n.p+"static/media/pools.ebbbad37.png",Se=n.p+"static/media/charts.4404929f.png",Ce=n.p+"static/media/whales.26c92c8d.png",Me=n.p+"static/media/mempools.6a0f1fd6.png",Te=n.p+"static/media/bridges.58d7d2cb.png",De=n.p+"static/media/logo_2.fe60bd52.png",Ee=[{title:"Dashboard",route:"/",icon:Se,status:"active"},{title:"Tokens",route:"/tokens",icon:ye,status:"active"},{title:"Multiple Tokens",route:"/multiTokens",icon:ke,status:"active"},{title:"Pools",route:"/pools",icon:we,status:"active"},{title:"Whales",route:"/whales",icon:Ce,status:"inactive"},{title:"MemPools",route:"/mempools",icon:Me,status:"inactive"},{title:"Bridges",route:"/bridges",icon:Te,status:"inactive"}];function Fe(e){var t=e.navSize,n=(e.setNavSize,Object(a.useState)(0)),r=Object(s.a)(n,2),c=r[0],i=r[1];return Object(a.useEffect)((function(){console.log("Active menu is: ",c)}),[c]),Object(A.jsxs)(y.b,{display:"flex",h:"100%",marginTop:"0",borderRadius:"0px 5px 5px 0px",backgroundColor:S,w:"small"==t?"100px":"250px",flexDir:"column",justifyContent:"space-between",zIndex:999,children:[Object(A.jsxs)(y.b,{flexDir:"column",alignItems:"flex-start",as:"nav",children:[Object(A.jsx)(y.e,{spacing:"8px",margin:5,children:Object(A.jsx)("div",{style:{width:220,height:60,paddingTop:20,paddingRight:20},children:Object(A.jsx)("img",{src:De})})}),Ee.map((function(e,n){return Object(A.jsx)(ve,{idx:n,style:c==n?{borderColor:D,borderStyle:"solid",borderWidth:1,borderRadius:5}:{},setActiveMenu:i,navSize:t,title:e.title,route:e.route,icon:e.icon,status:e.status})}))]}),Object(A.jsx)(y.b,{p:"5%",flexDir:"column",w:"100%",alignItems:"flex-start",mb:4})]})}function Ie(e){var t=e.data,n=(e.tokensList,Object(a.useState)(0)),r=Object(s.a)(n,2),c=(r[0],r[1],Object(a.useState)(0)),i=Object(s.a)(c,2),o=(i[0],i[1],Object(a.useState)()),l=Object(s.a)(o,2),d=(l[0],l[1]);Object(a.useEffect)((function(){console.log("Updating with data points: ",t.length),U.t("svg")&&(U.t("svg").remove(),U.t(".tooltip").remove());var e=u();d(e)}),[t]);var u=function(){var e=20,n=25,a=20,r=40,c=1200-r-n,i=600-e-a,s=U.s("#my_dataviz").append("svg").attr("width",c+r+n).attr("height",i+e+a).append("g").attr("transform","translate(".concat(r,", ").concat(e,")")),o=Array.from(new Set(t.map((function(e){return e.timestamp})))),l=Array.from(new Set(t.map((function(e){return e.symbol})))),d=U.m().range([0,c]).domain(o).padding(.05),u=U.m().range([i,0]).domain(l).padding(.05);s.append("g").style("font-size",15).call(U.d(u).tickSize(0)).select(".domain").remove();var b=U.p().interpolator(U.g(D,E)).domain([-.1,.1]),j=U.s("#my_dataviz").append("div").style("opacity",0).attr("class","tooltip").style("background-color","white").style("border","solid").style("border-width","2px").style("border-radius","5px").style("padding","5px");return s.selectAll().data(t,(function(e){return e.timestamp+":"+e.symbol})).join("rect").attr("x",(function(e){return d(e.timestamp)})).attr("y",(function(e){return u(e.symbol)})).attr("rx",4).attr("ry",4).attr("width",d.bandwidth()).attr("height",u.bandwidth()).style("fill",(function(e){return b(e.pctChange)})).style("stroke-width",4).style("stroke","none").style("opacity",.8).on("mouseover",(function(e,t){j.style("opacity",1),U.s(this).style("stroke","black").style("opacity",1)})).on("mousemove",(function(e,t){j.html(t.symbol+" changed "+(100*t.pctChange).toFixed(2)+"% @ "+ae(t.timestamp)).style("position","absolute").style("left",e.clientX+10+"px").style("top",e.clientY-60+"px")})).on("mouseleave",(function(e,t){j.style("opacity",0),U.s(this).style("stroke","none").style("opacity",.8)})),s};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{id:"my_dataviz",style:{width:1e3,height:800}})})}var Ae=n(604),Le=n(606);n(1411);var Pe=function(){return Object(A.jsxs)("div",{className:"barRaceChart",children:[Object(A.jsx)("iframe",{id:"iframeId",src:"https://flo.uri.sh/visualisation/8380876/embed",title:"Interactive or visual content",className:"flourish-embed-iframe",frameBorder:"0",scrolling:"no",sandbox:"allow-same-origin allow-forms allow-scripts allow-downloads allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"}),Object(A.jsx)("div",{id:"divId"})]})};function ze(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(86400),o=Object(s.a)(i,2),l=o[0],d=(o[1],Object(a.useState)([])),b=Object(s.a)(d,2),j=b[0],f=b[1],p=Object(a.useState)(!1),g=Object(s.a)(p,2),m=g[0],O=g[1],v=Object(a.useState)((Date.now()-2592e6)/1e3),k=Object(s.a)(v,2),w=k[0],S=k[1],C=Object(a.useState)(ae(w)),T=Object(s.a)(C,2),D=T[0],E=T[1],F=Object(a.useState)(ae(Date.now()/1e3)),I=Object(s.a)(F,2),P=I[0],z=I[1],_=Object(a.useState)(Math.round(Date.now()/1e3)),N=Object(s.a)(_,2),R=N[0],U=N[1],H=Object(a.useState)(["WBTC.e","WETH.e","WAVAX.e","LINK.e","TIME","JOE","AAVE.e"]),W=Object(s.a)(H,2),Y=W[0],q=(W[1],function(){O(!0),x("Token1Day",w,R,Y).then((function(e){f(e.filter((function(e){return"SUSHI.e"!=e.symbol})).sort((function(e,t){return e.symbol>t.symbol?-1:1}))),O(!1),console.log("Token prices: ",j)}))});Object(a.useEffect)((function(){h().then((function(e){return c(e)})),O(!0),q()}),[]);Object(a.useEffect)((function(){q()}),[w,R]);var Q=function(e){return Y.includes(e.symbol)};return Object(A.jsx)("div",{children:Object(A.jsxs)("div",{style:Object(u.a)({},e.style),children:[Object(A.jsx)(L,{title:"Multiple Tokens",hasInfo:!0}),Object(A.jsxs)(Ae.e,{variant:"enclosed",children:[Object(A.jsxs)(Ae.b,{children:[Object(A.jsx)(Ae.a,{children:"Percentage Change"}),Object(A.jsx)(Ae.a,{children:"Correlation"}),Object(A.jsx)(Ae.a,{children:"Market Cap"})]}),Object(A.jsxs)(Ae.d,{children:[Object(A.jsxs)(Ae.c,{style:{height:"100%"},children:[j.length&&Object(A.jsxs)("div",{children:[Object(A.jsxs)(y.e,{style:{height:"100%"},children:[r&&Object(A.jsxs)("div",{style:{marginTop:-200},children:[Object(A.jsx)("div",{style:{fontSize:"1.4em"},children:"Tokens"}),Object(A.jsx)("div",{style:{height:500,overflowY:"scroll",width:250,borderColor:M,borderWidth:1,borderRadius:20,padding:20},children:Object(A.jsx)("ul",{style:{listStyleType:"none"},children:r.map((function(e,t){return Object(A.jsx)("li",{style:{marginBottom:5},children:Object(A.jsx)(Le.a,{iconColor:"red",style:{margin:5},defaultChecked:Q(e),onChange:function(e){return function(e,t){if(e.target.checked)Y.push(r[t].symbol),O(!0),q();else{var n=Y.indexOf(r[t].symbol);Y.splice(n,1),f(j.filter((function(e){return e.symbol!=r[t].symbol})))}}(e,t)},children:e.symbol})})}))})})]}),r.length>0&&Object(A.jsxs)("div",{style:{marginLeft:60},children:[m&&Object(A.jsx)("div",{style:{position:"absolute",marginLeft:550,marginTop:300},children:Object(A.jsx)(ee,{})}),Object(A.jsx)(Ie,{tokensList:r,data:j})]})]}),Object(A.jsxs)("div",{style:{borderWidth:1,borderStyle:"solid",marginTop:-180,borderRadius:20,padding:20},children:[Object(A.jsxs)(y.e,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"Start date: "}),Object(A.jsx)("span",{children:D})]}),Object(A.jsx)("div",{children:" /"}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"End date: "}),Object(A.jsx)("span",{children:P})]})]}),Object(A.jsxs)(B.a,{onChange:function(e){return E(ae((t=e)[0])),void z(ae(t[1]));var t},onChangeEnd:function(e){return S((t=e)[0]),U(t[1]),void console.log("Fetch data again");var t},defaultValue:[w,R],min:1629504e3,max:Math.round(Date.now()/1e3),step:l,minStepsBetweenThumbs:10,children:[Object(A.jsx)(B.d,{bg:M,children:Object(A.jsx)(B.b,{bg:M})}),Object(A.jsx)(B.c,{boxSize:6,index:0}),Object(A.jsx)(B.c,{boxSize:6,index:1})]})]})]}),m&&Object(A.jsx)(ee,{style:{width:"100%",height:"100%",marginTop:100,marginLeft:500},message:"Loading price history"})]}),Object(A.jsx)(Ae.c,{children:Object(A.jsx)("p",{children:"Correlation!"})}),Object(A.jsx)(Ae.c,{children:Object(A.jsx)(Pe,{})})]})]})]})})}function _e(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=(n[0],n[1]),c=Object(a.useState)(null),i=Object(s.a)(c,2),o=(i[0],i[1]);Object(a.useEffect)((function(){U.t("svg")&&(U.t("svg").remove(),U.t(".tooltip").remove()),r(e.data),l(e.data)}),[e.data]);var l=function(t){var n=20,a=30,r=0,c=100,i=1300-c-a,s=600-n-r,l=U.s("#steam_graph").append("svg").attr("width",i+c+a).attr("height",s+n+r).append("g").attr("transform","translate("+c+","+n+")"),d=e.keys,u=U.q().domain(U.f(t,(function(e){return new Date(1e3*e.timestamp)}))).range([0,i]);l.append("g").attr("transform","translate(0,"+.95*s+")").call(U.c(u).tickSize(.95*-s).ticks(5)).select(".domain").remove(),l.selectAll(".tick line").attr("stroke","#b8b8b8");var b=function(e,t){var n=[],a=[];t.forEach((function(t,r){var c=e.map((function(e){return e[t]}));console.log("MAximu array: ",c),n.push(Math.max.apply(Math,Object(N.a)(c))),a.push(t)}));var r=Math.max.apply(Math,n),c=n.indexOf(r);return o(a[c]),console.log("Max array is: ",n),r}(e.data,e.keys),j=U.n().domain([-b,b]).range([s,0]);l.append("g").call(U.d(j).tickSize(-i).ticks(5)).select(".domain").remove();var f=U.o().domain(d).range(U.r),h=U.u().offset(U.v).keys(d)(t),p=l.append("text").attr("x",i-200).attr("y",0).style("opacity",0).style("font-size",17);l.append("text").attr("class","y label").attr("color",S).attr("text-anchor","end").attr("y",-60).attr("x",-s/2+10).attr("dy",".75em").attr("transform","rotate(-90)").text("TVL (USD)");var g=U.b().x((function(e){return u(new Date(1e3*e.data.timestamp))})).y0((function(e){return j(e[0])})).y1((function(e){return j(e[1])}));l.selectAll("steam_graph").data(h).enter().append("path").attr("class","myArea").style("fill",(function(e){return f(e.key)})).attr("d",g).on("mouseover",(function(e){p.style("opacity",1),U.t(".myArea").style("opacity",.2),U.s(this).style("stroke","black").style("opacity",1)})).on("mousemove",(function(e,t){var n=e.target.__data__.key;p.text(n)})).on("mouseleave",(function(e){p.style("opacity",0),U.t(".myArea").style("opacity",1).style("stroke","none")}))};return Object(A.jsx)(A.Fragment,{children:Object(A.jsx)("div",{id:"steam_graph"})})}var Ne=function(){var e=Object(f.a)(j.a.mark((function e(){var t,n,a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("DexTokenPairControl"),(n=new l.a.Query(t)).select("dexName","symbol0","symbol1","pairAddress"),e.next=5,n.find();case 5:return a=e.sent,r=a.map((function(e){return{name:e.get("dexName"),token0:e.get("symbol0"),token1:e.get("symbol1"),pairAddress:e.get("pairAddress")}})),console.log("Got results: ",r),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=Object(f.a)(j.a.mark((function e(t,n){var a,r,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=l.a.Object.extend("DexTokenPairLiquidity"),(r=new l.a.Query(a)).select("dexName","symbol0","symbol1","reserve0","reserve1","tvl0","tvl1","timeStamp"),n&&r.greaterThan("timeStamp",n),r.limit(5e3),r.equalTo("pairAddress",t),r.ascending("timeStamp"),e.next=9,r.find();case 9:return c=e.sent,i=c.map((function(e){return{dexName:e.get("dexName"),symbol0:e.get("symbol0"),symbol1:e.get("symbol1"),reserve0:Math.round(e.get("reserve0")),reserve1:Math.round(e.get("reserve1")),tvl0:Math.round(e.get("tvl0")),tvl1:Math.round(e.get("tvl1")),timestamp:e.get("timeStamp")}})),e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=function(e){var t=e.startDate,n=e.setStartDate,a=e.endDate,r=e.setEndDate,c=e.initialOffset,i=e.setInitialOffset,s=e.endOffset,o=e.setEndOffset,l=e.sliderStep,d=e.style;return Object(A.jsxs)("div",{style:{borderWidth:1,borderStyle:"solid",marginTop:d.marginTop,width:"90%",borderRadius:20,padding:20},children:[Object(A.jsxs)(y.e,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"Start date: "}),Object(A.jsx)("span",{children:t})]}),Object(A.jsx)("div",{children:" /"}),Object(A.jsxs)("div",{children:[Object(A.jsx)("span",{children:"End date: "}),Object(A.jsx)("span",{children:a})]})]}),Object(A.jsxs)(B.a,{onChange:function(e){return n(ae((t=e)[0])),void r(ae(t[1]));var t},onChangeEnd:function(e){return i((t=e)[0]),o(t[1]),void console.log("Fetch data again");var t},defaultValue:[c,s],min:1629504e3,max:Math.round(Date.now()/1e3),step:l,minStepsBetweenThumbs:10,children:[Object(A.jsx)(B.d,{bg:M,children:Object(A.jsx)(B.b,{bg:M})}),Object(A.jsx)(B.c,{boxSize:6,index:0}),Object(A.jsx)(B.c,{boxSize:6,index:1})]})]})},Ue=["0x8fb5bd3ac8efd05dacae82f512dd03e14aadab73","0x72c3438cf1c915ecf5d9f17a6ed346b273d5bf71","0x3daf1c6268362214ebb064647555438c6f365f96","0x454e67025631c065d3cfad6d71e6892f74487a15","0xfe15c2695f1f920da45c30aae47d11de51007af9","0x1643de2efb8e35374d796297a9f95f64c082a8ce","0x87dee1cc9ffd464b79e058ba20387c1984aed86a","0xa6908c7e3be8f4cd2eb704b5cb73583ebf56ee62","0x6f3a0c89f611ef5dc9d96650324ac633d02265d3","0xd5a37dc5c9a396a03dd1136fc76a1a02b1c88ffa","0xb5c9e891af3063004a441ba4fab4ca3d6deb5626","0xed8cbd9f0ce3c6986b22002f03c6475ceb7a6256","0x2774516897ac629ad3ed9dcac7e375dda78412b9","0x67926d973cd8ee876ad210faaf7dffa99e414acf","0x63abe32d0ee76c05a11838722a63e012008416e6","0xa389f9430876455c36478deea9769b7ca4e3ddb1","0x781655d802670bba3c89aebaaea59d3182fd755d","0x2e02539203256c83c7a9f6fa6f8608a32a2b1ca2","0xf64e1c5b6e17031f5504481ac8145f4c3eab4917","0xb9f425bc9af072a91c423e31e9eb7e04f226b39d","0x62475f52add016a06b398aa3b2c2f2e540d36859","0x140cac5f0e05cbec857e65353839fddd0d8482c1","0xc2ea99c031b05ae03044c857c78afb5671dee96b","0xc3e6d9f7a3a5e3e223356383c7c055ee3f26a34f","0x113f413371fc4cc4c9d6416cf1de9dfd7bf747df","0x361221991b3b6282ff3a62bc874d018bfaf1f8c8","0x199fb78019a08af2cb6a078409d0c8233eba8a0c","0x7b7617c7b2236d7871741783cae8bcc222c2e05d","0xbe4b31fce1885fcd0e3351aa8b392fbcc4ef6036","0x50141c21e4e861d4b2cbeb825b9a2b5e5e09a186"],He=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),l=o[0],d=o[1],b=Object(a.useState)([]),j=Object(s.a)(b,2),f=j[0],h=j[1],p=Object(a.useState)(!1),g=Object(s.a)(p,2),m=(g[0],g[1],Object(a.useState)([])),x=Object(s.a)(m,2),O=x[0],v=x[1],k=Object(a.useState)(0),w=Object(s.a)(k,2),S=w[0],C=w[1],T=Object(a.useState)((Date.now()-2592e6)/1e3),D=Object(s.a)(T,2),E=D[0],F=D[1],I=Object(a.useState)(ae(E)),P=Object(s.a)(I,2),z=P[0],_=P[1],R=Object(a.useState)(ae(Date.now()/1e3)),B=Object(s.a)(R,2),U=B[0],H=B[1],W=Object(a.useState)(Math.round(Date.now()/1e3)),Y=Object(s.a)(W,2),q=Y[0],Q=Y[1];Object(a.useEffect)((function(){Ne().then((function(e){console.log("Pools: ",e);var t=e.filter((function(e){return Ue.includes(e.pairAddress)}));d(t)}))}),[]),Object(a.useEffect)((function(){l.length>0&&(console.log("Will activate: ",l[0]),h([l[0]]),console.log("Active pool is: ",f))}),[l]);Object(a.useEffect)((function(){if(console.log("Current list is: ",f),console.log("Last request length: ",S),f.length>0)if(f.length>S)Re(f[f.length-1].pairAddress).then((function(e){var t=[],n="tvl"+e[0].symbol0+"-"+e[0].symbol1;r.length>0?(e.map((function(e,t){var a={};a[n]=e.tvl0+e.tvl1,Object.assign(r[t],Object(u.a)({},a))})),c((function(){return Object(N.a)(r)}))):(e.map((function(e,a){var r={};r[n]=e.tvl0+e.tvl1,r.timestamp=e.timestamp,t.push(r)})),c((function(){return[].concat(t)}))),O.push(n),v(O)}));else{var e=f.map((function(e){return"tvl".concat(e.token0,"-").concat(e.token1)}));console.log("Address array is: ",e);var t=Object.keys(r[0]).filter((function(e){return"timestamp"!=e}));console.log("Keys is: ",t);var n=t.filter((function(t){return!e.includes(t)}))[0];console.log("Address to remove: ",n);var a=r.map((function(e){return delete e[n],e}));console.log("New data arr: ",r);t.indexOf(n);var i=t.filter((function(e){return e!=n}));v(i),c(a)}C(f.length)}),[f]),Object(a.useEffect)((function(){console.log("Keys changed to: ",O)}),[O]);var K=function(e,t){var n,a,r,c;return console.log("Returning:"),console.log("".concat(t.token0,"/").concat(t.token1)=="".concat(null===(n=f[e])||void 0===n?void 0:n.token0,"/").concat(null===(a=f[e])||void 0===a?void 0:a.token1)),console.log("For","".concat(t.token0,"/").concat(t.token1)),"".concat(t.token0,"/").concat(t.token1)=="".concat(null===(r=f[e])||void 0===r?void 0:r.token0,"/").concat(null===(c=f[e])||void 0===c?void 0:c.token1)};return Object(A.jsxs)("div",{children:[Object(A.jsx)(L,{title:"Pools",hasInfo:!0}),Object(A.jsxs)(y.e,{children:[f.length>0&&Object(A.jsx)("div",{style:{height:600,overflowY:"scroll",width:250,borderColor:M,borderWidth:1,borderRadius:20,padding:20},children:Object(A.jsx)("ul",{style:{listStyleType:"none"},children:l.map((function(e,t){return Object(A.jsx)("li",{style:{marginBottom:5},children:Object(A.jsxs)(Le.a,{iconColor:"red",style:{margin:5},defaultChecked:K(t,e),value:e.pairAddress,onChange:function(e){return function(e,t){console.log("CheckBoxChanged to: ",e.target.checked),console.log("With value: ",e.target.value),e.target.checked?h([].concat(Object(N.a)(f),[l[t]])):(console.log("Filtering: ",e.target.value),h(f.filter((function(t){return t.pairAddress!=e.target.value}))))}(e,t)},children:[e.token0,"/",e.token1]})})}))})}),Object(A.jsx)("div",{style:{height:600,borderWidth:1,borderRadius:20,marginLeft:60,marginBottom:20},children:r.length>0&&Object(A.jsx)(_e,{data:r,keys:O})})]}),Object(A.jsx)(Be,{style:{marginTop:50},startDate:z,setStartDate:_,endDate:U,setEndDate:H,initialOffset:E,setInitialOffset:F,endOffset:q,setEndOffset:Q,sliderStep:86400})]})},We=function(e){return Object(A.jsx)("div",{children:Object(A.jsx)("h1",{children:"Under construction!"})})};l.a.CoreManager.set;var Ye=function(){l.a.initialize(Ve),l.a.serverURL=Ge;var e=Object(d.b)(),t=(e.authenticate,e.isAuthenticating,e.isAuthenticated,e.logout,e.authError,Object(a.useState)()),n=Object(s.a)(t,2),r=n[0],c=(n[1],Object(a.useState)("large")),i=Object(s.a)(c,2),o=i[0],u=i[1];return Object(a.useEffect)((function(){return console.log("User now is: ",r)}),[r]),Object(A.jsx)(y.b,{style:{backgroundColor:F,height:"100vh",fontStyle:"nunito"},children:Object(A.jsx)(_.a,{children:Object(A.jsxs)(y.c,{h:"95vh",w:"99vw",templateColumns:"repeat(10, 1fr)",children:[Object(A.jsx)(y.d,{clsSpan:2,style:{height:"100vh"},children:Object(A.jsx)(Fe,{navSize:o,setNavSize:u})}),Object(A.jsx)(y.d,{colSpan:9,style:{marginLeft:20,width:"100%",overflow:"auto"},children:Object(A.jsxs)(v.c,{children:[Object(A.jsx)(v.a,{path:"/",element:Object(A.jsx)(xe,{})}),Object(A.jsx)(v.a,{path:"/tokens",element:Object(A.jsx)(z,{})}),Object(A.jsx)(v.a,{path:"/multiTokens",element:Object(A.jsx)(ze,{})}),Object(A.jsx)(v.a,{path:"/token/:address",element:Object(A.jsx)(de,{})}),Object(A.jsx)(v.a,{path:"/pools",element:Object(A.jsx)(He,{})}),Object(A.jsx)(v.a,{path:"/whales",element:Object(A.jsx)(We,{})}),Object(A.jsx)(v.a,{path:"/memPools",element:Object(A.jsx)(We,{})}),Object(A.jsx)(v.a,{path:"/bridges",element:Object(A.jsx)(We,{})}),Object(A.jsx)(v.a,{path:"/pool/:token0/:token1",element:Object(A.jsx)(He,{})}),Object(A.jsx)(v.a,{path:"/statistics",element:Object(A.jsx)(J,{})})]})})]})})})},qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1424)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},Qe=n(56),Ke=Object(Qe.b)({config:{initialColorMode:"light"}}),Ge="https://dwphjko0r4hx.usemoralis.com:2053/server",Ve="Mgs7zi861Gx6HwE30jwiGuVBsP7LXybNW0x4UscU";i.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(d.a,{appId:Ve,serverUrl:Ge,children:Object(A.jsx)(Qe.a,{theme:Ke,children:Object(A.jsx)(Ye,{})})})}),document.getElementById("root")),qe()},760:function(e,t,n){},761:function(e,t,n){}},[[1412,1,2]]]);
//# sourceMappingURL=main.a51125d2.chunk.js.map